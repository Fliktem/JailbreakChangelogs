{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/services/api.ts"],"sourcesContent":["// Base URLs\nexport const PROD_API_URL = 'https://api.jailbreakchangelogs.xyz';\nexport const TEST_API_URL = 'https://api.testing.jailbreakchangelogs.xyz';"],"names":[],"mappings":"AAAA,YAAY;;;;;AACL,MAAM,eAAe;AACrB,MAAM,eAAe","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/utils/cookies.ts"],"sourcesContent":["/**\n * Cookie utility functions for managing authentication tokens\n */\n\nconst COOKIE_OPTIONS = {\n  maxAge: 2592000, // 30 days in seconds\n  path: '/',\n  sameSite: 'Lax' as const,\n  secure: true\n};\n\n/**\n * Sets a cookie with standard options\n * @param name - Cookie name\n * @param value - Cookie value\n */\nexport function setCookie(name: string, value: string): void {\n  const options = [\n    `${name}=${value}`,\n    `max-age=${COOKIE_OPTIONS.maxAge}`,\n    `path=${COOKIE_OPTIONS.path}`,\n    `SameSite=${COOKIE_OPTIONS.sameSite}`,\n    COOKIE_OPTIONS.secure ? 'Secure' : ''\n  ].filter(Boolean).join('; ');\n  \n  document.cookie = options;\n}\n\n/**\n * Gets a cookie value by name\n * @param name - Cookie name\n * @returns Cookie value or null if not found\n */\nexport function getCookie(name: string): string | null {\n  return document.cookie\n    .split('; ')\n    .find(row => row.startsWith(`${name}=`))\n    ?.split('=')[1] || null;\n}\n\n/**\n * Checks if a token cookie exists and is valid\n * @returns true if token exists and is not 'undefined'\n */\nexport function hasValidToken(): boolean {\n  const token = getCookie('token');\n  return !!token && token !== 'undefined';\n}\n\n/**\n * Removes a cookie by name\n * @param name - Cookie name\n */\nexport function removeCookie(name: string): void {\n  document.cookie = `${name}=; max-age=0; path=/`;\n} "],"names":[],"mappings":"AAAA;;CAEC;;;;;;AAED,MAAM,iBAAiB;IACrB,QAAQ;IACR,MAAM;IACN,UAAU;IACV,QAAQ;AACV;AAOO,SAAS,UAAU,IAAY,EAAE,KAAa;IACnD,MAAM,UAAU;QACd,GAAG,KAAK,CAAC,EAAE,OAAO;QAClB,CAAC,QAAQ,EAAE,eAAe,MAAM,EAAE;QAClC,CAAC,KAAK,EAAE,eAAe,IAAI,EAAE;QAC7B,CAAC,SAAS,EAAE,eAAe,QAAQ,EAAE;QACrC,eAAe,MAAM,GAAG,WAAW;KACpC,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;IAEvB,SAAS,MAAM,GAAG;AACpB;AAOO,SAAS,UAAU,IAAY;IACpC,OAAO,SAAS,MAAM,CACnB,KAAK,CAAC,MACN,IAAI,CAAC,CAAA,MAAO,IAAI,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC,IACpC,MAAM,IAAI,CAAC,EAAE,IAAI;AACvB;AAMO,SAAS;IACd,MAAM,QAAQ,UAAU;IACxB,OAAO,CAAC,CAAC,SAAS,UAAU;AAC9B;AAMO,SAAS,aAAa,IAAY;IACvC,SAAS,MAAM,GAAG,GAAG,KAAK,oBAAoB,CAAC;AACjD","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/utils/auth.ts"],"sourcesContent":["import toast from 'react-hot-toast';\nimport { UserData, AuthResponse } from '../types/auth';\nimport { PROD_API_URL, TEST_API_URL } from '@/services/api';\nimport { setCookie, getCookie, hasValidToken, removeCookie } from './cookies';\n\nlet lastLogoutSource: string = 'Unknown';\n\nexport function trackLogoutSource(source: string) {\n  lastLogoutSource = source;\n}\n\nexport async function logout() {\n  // Get token from cookie\n  const token = getCookie('token');\n  const source = lastLogoutSource || 'Direct API Call';\n\n  // Only try to invalidate token if we have one\n  if (token && token !== 'undefined') {\n    try {\n      console.group('üîê Token Invalidation Process');\n      console.log('üìù Logout Details:', {\n        'Source': source,\n        'Token Length': token.length,\n        'Timestamp': new Date().toISOString()\n      });\n      \n      // Invalidate token on server\n      const response = await fetch(`${PROD_API_URL}/users/token/invalidate?session_token=${token}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      });\n\n      if (response.ok) {\n        console.log('‚úÖ Token Successfully Invalidated:', {\n          'Source': source,\n          'Timestamp': new Date().toISOString(),\n          'Response Status': response.status\n        });\n        // Only clear data if token invalidation was successful\n        clearAuthData('user-initiated logout');\n      } else {\n        const errorData = await response.json().catch(() => null);\n        console.error('‚ùå Token Invalidation Failed:', {\n          'Source': source,\n          'Timestamp': new Date().toISOString(),\n          'Status': response.status,\n          'Status Text': response.statusText,\n          'Error Details': errorData || 'No error details available',\n          'Token Length': token.length\n        });\n        throw new Error('Failed to invalidate token');\n      }\n      console.groupEnd();\n    } catch (error) {\n      console.error('‚ùå Error During Logout:', {\n        'Source': source,\n        'Timestamp': new Date().toISOString(),\n        'Error Message': error instanceof Error ? error.message : 'Unknown error',\n        'Stack Trace': error instanceof Error ? error.stack : undefined,\n        'Token Length': token.length\n      });\n      console.groupEnd();\n      throw error;\n    }\n  } else {\n    console.group('üîê Token Invalidation Process');\n    console.log('‚ö†Ô∏è No Token Found:', {\n      'Source': source,\n      'Timestamp': new Date().toISOString()\n    });\n    console.groupEnd();\n    // If no token exists, just clear the data\n    clearAuthData('no token found');\n  }\n}\n\nfunction clearAuthData(reason: string) {\n  console.log(`Clearing auth data. Reason: ${reason}`);\n  \n  removeCookie('token');\n  localStorage.removeItem('user');\n  localStorage.removeItem('userid');\n  localStorage.removeItem('avatar');\n  \n  // Dispatch custom event for components to listen to\n  window.dispatchEvent(new CustomEvent('authStateChanged'));\n}\n\nexport async function validateAuth(): Promise<boolean> {\n  // Check if token exists in cookie\n  const token = getCookie('token');\n\n  if (!token || token === 'undefined') {\n    console.log('Auth validation failed: No valid token found in cookies');\n    clearAuthData('auth validation failed');\n    return false;\n  }\n\n  let attempts = 0;\n  const maxAttempts = 3;\n  const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\n\n  while (attempts < maxAttempts) {\n    try {\n      console.log(`Attempting authentication (${attempts + 1}/${maxAttempts})...`);\n      \n      // Validate token with server\n      const response = await fetch(`${TEST_API_URL}/users/get/token?token=${token}&nocache=true`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        console.log('Authentication successful!');\n        const userData = await response.json();\n\n        // Update localStorage with fresh data\n        localStorage.setItem('user', JSON.stringify(userData));\n        localStorage.setItem('userid', userData.id);\n\n        // Set avatar if available\n        if (userData.avatar) {\n          const avatarURL = `https://cdn.discordapp.com/avatars/${userData.id}/${userData.avatar}?size=4096`;\n          localStorage.setItem('avatar', avatarURL);\n        }\n\n        // Dispatch custom event for components to listen to\n        window.dispatchEvent(new CustomEvent('authStateChanged', { detail: userData }));\n\n        return true;\n      }\n\n      // Only clear auth data if we get an auth-related error\n      if (response.status === 403) {\n        const errorData = await response.json().catch(() => null);\n        console.error('Auth validation failed:', {\n          status: response.status,\n          statusText: response.statusText,\n          error: errorData || 'No error details available',\n          timestamp: new Date().toISOString()\n        });\n        clearAuthData('auth validation failed - token expired or invalid');\n        return false;\n      }\n\n      // For other status codes, increment attempts and retry\n      attempts++;\n      const errorData = await response.json().catch(() => null);\n      console.warn(`Auth validation attempt ${attempts}/${maxAttempts} failed:`, {\n        status: response.status,\n        statusText: response.statusText,\n        error: errorData || 'No error details available'\n      });\n\n      if (attempts < maxAttempts) {\n        const nextDelay = 1000 * attempts;\n        console.log(`Retrying in ${nextDelay}ms...`);\n        await delay(nextDelay);\n      }\n    } catch (error) {\n      // Network or other errors - don't clear auth data\n      attempts++;\n      console.error(`Auth validation error (attempt ${attempts}/${maxAttempts}):`, {\n        error: error instanceof Error ? error.message : 'Unknown error',\n        stack: error instanceof Error ? error.stack : undefined\n      });\n\n      if (attempts < maxAttempts) {\n        const nextDelay = 1000 * attempts;\n        console.log(`Retrying in ${nextDelay}ms...`);\n        await delay(nextDelay);\n      }\n    }\n  }\n\n  // If we've exhausted all attempts but it was due to network errors,\n  // keep the user logged in and return true to maintain their session\n  if (navigator && !navigator.onLine) {\n    console.log('Auth validation failed due to being offline - keeping user logged in');\n    return true;\n  }\n\n  // If we're online and exhausted all attempts, something is wrong with the API\n  console.error('Auth validation failed after all retry attempts, but keeping user logged in since it may be an API issue');\n  return true;\n}\n\nexport async function handleTokenAuth(token: string): Promise<AuthResponse> {\n  let loadingToast: string | undefined;\n  \n  try {\n    // Show loading toast\n    loadingToast = toast.loading('Logging you in...', {\n      duration: Infinity,\n      position: 'bottom-right',\n    });\n\n    // Validate token with server\n    const response = await fetch(`${TEST_API_URL}/users/get/token?token=${token}&nocache=true`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to validate token');\n    }\n\n    const userData: UserData = await response.json();\n\n    // Set cookie with proper attributes\n    setCookie('token', token);\n\n    // Set local storage\n    localStorage.setItem('user', JSON.stringify(userData));\n    localStorage.setItem('userid', userData.id);\n\n    // Set avatar if available\n    if (userData.avatar) {\n      const avatarURL = `https://cdn.discordapp.com/avatars/${userData.id}/${userData.avatar}?size=4096`;\n      localStorage.setItem('avatar', avatarURL);\n    }\n\n    // Dispatch custom event for components to listen to\n    window.dispatchEvent(new CustomEvent('authStateChanged', { detail: userData }));\n\n    // Dismiss loading toast and show success\n    toast.dismiss(loadingToast);\n    toast.success(`Welcome back, ${userData.username}!`, {\n      duration: 3000,\n      position: 'bottom-right',\n    });\n\n    return { success: true, data: userData };\n  } catch (error) {\n    console.error('Token authentication error:', error);\n    toast.error('Failed to log in. Please try again.', {\n      duration: 3000,\n      position: 'bottom-right',\n    });\n    return { success: false, error: 'Failed to validate token' };\n  } finally {\n    // Always dismiss the loading toast\n    if (loadingToast) {\n      toast.dismiss(loadingToast);\n    }\n  }\n}\n\nexport function isAuthenticated(): boolean {\n  return hasValidToken();\n}\n\nexport function getToken(): string | null {\n  return getCookie('token');\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/utils/campaign.ts"],"sourcesContent":["import { PROD_API_URL } from '@/services/api';\n\nexport function storeCampaign(campaign: string): void {\n  if (typeof window === 'undefined') return;\n  sessionStorage.setItem('campaign', campaign);\n}\n\nexport function getStoredCampaign(): string | null {\n  if (typeof window === 'undefined') return null;\n  return sessionStorage.getItem('campaign');\n}\n\nexport function clearStoredCampaign(): void {\n  if (typeof window === 'undefined') return;\n  sessionStorage.removeItem('campaign');\n}\n\nexport async function countCampaignVisit(campaign: string, token: string): Promise<void> {\n  try {\n    const response = await fetch(\n      `${PROD_API_URL}/campaigns/count?campaign=${campaign}&token=${token}`,\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error('Failed to count campaign visit');\n    }\n  } catch (error) {\n    console.error('Error counting campaign visit:', error);\n    // Don't show error to user as this is a background operation\n  }\n} "],"names":[],"mappings":";;;;;;AAAA;;AAEO,SAAS,cAAc,QAAgB;IAC5C,uCAAmC;;IAAM;IACzC,eAAe,OAAO,CAAC,YAAY;AACrC;AAEO,SAAS;IACd,uCAAmC;;IAAW;IAC9C,OAAO,eAAe,OAAO,CAAC;AAChC;AAEO,SAAS;IACd,uCAAmC;;IAAM;IACzC,eAAe,UAAU,CAAC;AAC5B;AAEO,eAAe,mBAAmB,QAAgB,EAAE,KAAa;IACtE,IAAI;QACF,MAAM,WAAW,MAAM,MACrB,GAAG,yHAAA,CAAA,eAAY,CAAC,0BAA0B,EAAE,SAAS,OAAO,EAAE,OAAO,EACrE;YACE,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;QACF;QAGF,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;IAChD,6DAA6D;IAC/D;AACF","debugId":null}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/hooks/useAuth.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { AuthState, AuthResponse } from '../types/auth';\nimport { logout, handleTokenAuth, validateAuth, trackLogoutSource } from '../utils/auth';\nimport { storeCampaign, getStoredCampaign, clearStoredCampaign, countCampaignVisit } from '../utils/campaign';\nimport toast from 'react-hot-toast';\nimport { useRouter, useSearchParams } from 'next/navigation';\n\nexport const useAuth = () => {\n  const [authState, setAuthState] = useState<AuthState>({\n    isAuthenticated: false,\n    user: null,\n    isLoading: true,\n    error: null,\n  });\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  const initializeAuth = useCallback(async () => {\n    try {\n      const isValid = await validateAuth();\n      if (isValid) {\n        const userData = localStorage.getItem('user');\n        if (userData) {\n          setAuthState({\n            isAuthenticated: true,\n            user: JSON.parse(userData),\n            isLoading: false,\n            error: null,\n          });\n\n          // If user is already logged in and there's a campaign in URL, clear it and show toast\n          const campaign = searchParams.get('campaign');\n          if (campaign) {\n            // Remove campaign parameter from URL without refreshing the page\n            const params = new URLSearchParams(searchParams.toString());\n            params.delete('campaign');\n            router.replace(window.location.pathname + (params.toString() ? `?${params.toString()}` : ''));\n            \n            toast.error('You are already logged in!', {\n              duration: 3000,\n              position: 'bottom-right',\n            });\n          }\n\n          // Clear any stored campaign data\n          clearStoredCampaign();\n        } else {\n          // If we have a valid token but no user data, something is wrong\n          setAuthState({\n            isAuthenticated: false,\n            user: null,\n            isLoading: false,\n            error: 'User data not found',\n          });\n        }\n      } else {\n        setAuthState({\n          isAuthenticated: false,\n          user: null,\n          isLoading: false,\n          error: null,\n        });\n\n        // Check for campaign and store it if user is not logged in\n        const campaign = searchParams.get('campaign');\n        if (campaign) {\n          storeCampaign(campaign);\n          toast('Please log in to support this campaign!', {\n            duration: 5000,\n            position: 'bottom-right',\n          });\n          setShowLoginModal(true);\n        }\n      }\n    } catch (err) {\n      console.error('Auth initialization error:', err);\n      setAuthState({\n        isAuthenticated: false,\n        user: null,\n        isLoading: false,\n        error: 'Failed to initialize auth',\n      });\n    }\n  }, [router, searchParams]);\n\n  const handleLogin = async (token: string): Promise<AuthResponse> => {\n    try {\n      setAuthState(prev => ({ ...prev, isLoading: true }));\n      const response = await handleTokenAuth(token);\n      \n      if (response.success && response.data) {\n        setAuthState({\n          isAuthenticated: true,\n          user: response.data,\n          isLoading: false,\n          error: null,\n        });\n\n        // Check for campaign and count visit after successful login\n        const campaign = getStoredCampaign();\n        if (campaign) {\n          await countCampaignVisit(campaign, token);\n          toast.success('Campaign visit recorded!', {\n            duration: 3000,\n            position: 'bottom-right',\n          });\n          clearStoredCampaign();\n        }\n      } else {\n        setAuthState({\n          isAuthenticated: false,\n          user: null,\n          isLoading: false,\n          error: response.error || 'Login failed',\n        });\n      }\n      \n      return response;\n    } catch (err) {\n      console.error('Login error:', err);\n      const errorMessage = err instanceof Error ? err.message : 'Login failed';\n      setAuthState({\n        isAuthenticated: false,\n        user: null,\n        isLoading: false,\n        error: errorMessage,\n      });\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await trackLogoutSource('useAuth Hook');\n      await logout();\n      setAuthState({\n        isAuthenticated: false,\n        user: null,\n        isLoading: false,\n        error: null,\n      });\n      toast.success('Successfully logged out!');\n    } catch (err) {\n      console.error('Logout error:', err);\n      toast.error('Failed to log out. Please try again.');\n    }\n  };\n\n  useEffect(() => {\n    initializeAuth();\n    \n    // Set up an interval to check auth status periodically\n    const intervalId = setInterval(() => {\n      validateAuth().catch(error => {\n        console.error('Auth validation error:', error);\n      });\n    }, 60000); // Check every minute\n    \n    // Listen for auth state changes to update local state\n    const handleAuthChange = (event: CustomEvent) => {\n      const userData = event.detail;\n      if (userData) {\n        setAuthState({\n          isAuthenticated: true,\n          user: userData,\n          isLoading: false,\n          error: null,\n        });\n      } else {\n        setAuthState({\n          isAuthenticated: false,\n          user: null,\n          isLoading: false,\n          error: null,\n        });\n      }\n    };\n    \n    window.addEventListener('authStateChanged', handleAuthChange as EventListener);\n    \n    return () => {\n      clearInterval(intervalId);\n      window.removeEventListener('authStateChanged', handleAuthChange as EventListener);\n    };\n  }, [initializeAuth]);\n\n  return {\n    ...authState,\n    login: handleLogin,\n    logout: handleLogout,\n    showLoginModal,\n    setShowLoginModal,\n  };\n}; "],"names":[],"mappings":";;;AAAA;AAEA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,UAAU;;IACrB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAa;QACpD,iBAAiB;QACjB,MAAM;QACN,WAAW;QACX,OAAO;IACT;IACA,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,SAAS,CAAA,GAAA,oQAAA,CAAA,YAAS,AAAD;IACvB,MAAM,eAAe,CAAA,GAAA,oQAAA,CAAA,kBAAe,AAAD;IAEnC,MAAM,iBAAiB,CAAA,GAAA,4RAAA,CAAA,cAAW,AAAD;+CAAE;YACjC,IAAI;gBACF,MAAM,UAAU,MAAM,CAAA,GAAA,uHAAA,CAAA,eAAY,AAAD;gBACjC,IAAI,SAAS;oBACX,MAAM,WAAW,aAAa,OAAO,CAAC;oBACtC,IAAI,UAAU;wBACZ,aAAa;4BACX,iBAAiB;4BACjB,MAAM,KAAK,KAAK,CAAC;4BACjB,WAAW;4BACX,OAAO;wBACT;wBAEA,sFAAsF;wBACtF,MAAM,WAAW,aAAa,GAAG,CAAC;wBAClC,IAAI,UAAU;4BACZ,iEAAiE;4BACjE,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;4BACxD,OAAO,MAAM,CAAC;4BACd,OAAO,OAAO,CAAC,OAAO,QAAQ,CAAC,QAAQ,GAAG,CAAC,OAAO,QAAQ,KAAK,CAAC,CAAC,EAAE,OAAO,QAAQ,IAAI,GAAG,EAAE;4BAE3F,ySAAA,CAAA,UAAK,CAAC,KAAK,CAAC,8BAA8B;gCACxC,UAAU;gCACV,UAAU;4BACZ;wBACF;wBAEA,iCAAiC;wBACjC,CAAA,GAAA,2HAAA,CAAA,sBAAmB,AAAD;oBACpB,OAAO;wBACL,gEAAgE;wBAChE,aAAa;4BACX,iBAAiB;4BACjB,MAAM;4BACN,WAAW;4BACX,OAAO;wBACT;oBACF;gBACF,OAAO;oBACL,aAAa;wBACX,iBAAiB;wBACjB,MAAM;wBACN,WAAW;wBACX,OAAO;oBACT;oBAEA,2DAA2D;oBAC3D,MAAM,WAAW,aAAa,GAAG,CAAC;oBAClC,IAAI,UAAU;wBACZ,CAAA,GAAA,2HAAA,CAAA,gBAAa,AAAD,EAAE;wBACd,CAAA,GAAA,ySAAA,CAAA,UAAK,AAAD,EAAE,2CAA2C;4BAC/C,UAAU;4BACV,UAAU;wBACZ;wBACA,kBAAkB;oBACpB;gBACF;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,8BAA8B;gBAC5C,aAAa;oBACX,iBAAiB;oBACjB,MAAM;oBACN,WAAW;oBACX,OAAO;gBACT;YACF;QACF;8CAAG;QAAC;QAAQ;KAAa;IAEzB,MAAM,cAAc,OAAO;QACzB,IAAI;YACF,aAAa,CAAA,OAAQ,CAAC;oBAAE,GAAG,IAAI;oBAAE,WAAW;gBAAK,CAAC;YAClD,MAAM,WAAW,MAAM,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD,EAAE;YAEvC,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;gBACrC,aAAa;oBACX,iBAAiB;oBACjB,MAAM,SAAS,IAAI;oBACnB,WAAW;oBACX,OAAO;gBACT;gBAEA,4DAA4D;gBAC5D,MAAM,WAAW,CAAA,GAAA,2HAAA,CAAA,oBAAiB,AAAD;gBACjC,IAAI,UAAU;oBACZ,MAAM,CAAA,GAAA,2HAAA,CAAA,qBAAkB,AAAD,EAAE,UAAU;oBACnC,ySAAA,CAAA,UAAK,CAAC,OAAO,CAAC,4BAA4B;wBACxC,UAAU;wBACV,UAAU;oBACZ;oBACA,CAAA,GAAA,2HAAA,CAAA,sBAAmB,AAAD;gBACpB;YACF,OAAO;gBACL,aAAa;oBACX,iBAAiB;oBACjB,MAAM;oBACN,WAAW;oBACX,OAAO,SAAS,KAAK,IAAI;gBAC3B;YACF;YAEA,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC1D,aAAa;gBACX,iBAAiB;gBACjB,MAAM;gBACN,WAAW;gBACX,OAAO;YACT;YACA,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAa;QAC/C;IACF;IAEA,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,CAAA,GAAA,uHAAA,CAAA,oBAAiB,AAAD,EAAE;YACxB,MAAM,CAAA,GAAA,uHAAA,CAAA,SAAM,AAAD;YACX,aAAa;gBACX,iBAAiB;gBACjB,MAAM;gBACN,WAAW;gBACX,OAAO;YACT;YACA,ySAAA,CAAA,UAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,ySAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;6BAAE;YACR;YAEA,uDAAuD;YACvD,MAAM,aAAa;gDAAY;oBAC7B,CAAA,GAAA,uHAAA,CAAA,eAAY,AAAD,IAAI,KAAK;wDAAC,CAAA;4BACnB,QAAQ,KAAK,CAAC,0BAA0B;wBAC1C;;gBACF;+CAAG,QAAQ,qBAAqB;YAEhC,sDAAsD;YACtD,MAAM;sDAAmB,CAAC;oBACxB,MAAM,WAAW,MAAM,MAAM;oBAC7B,IAAI,UAAU;wBACZ,aAAa;4BACX,iBAAiB;4BACjB,MAAM;4BACN,WAAW;4BACX,OAAO;wBACT;oBACF,OAAO;wBACL,aAAa;4BACX,iBAAiB;4BACjB,MAAM;4BACN,WAAW;4BACX,OAAO;wBACT;oBACF;gBACF;;YAEA,OAAO,gBAAgB,CAAC,oBAAoB;YAE5C;qCAAO;oBACL,cAAc;oBACd,OAAO,mBAAmB,CAAC,oBAAoB;gBACjD;;QACF;4BAAG;QAAC;KAAe;IAEnB,OAAO;QACL,GAAG,SAAS;QACZ,OAAO;QACP,QAAQ;QACR;QACA;IACF;AACF;GA3La;;QAQI,oQAAA,CAAA,YAAS;QACH,oQAAA,CAAA,kBAAe","debugId":null}},
    {"offset": {"line": 594, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/Auth/LoginModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport Image from 'next/image';\nimport toast from 'react-hot-toast';\nimport { \n  Tabs, \n  Tab, \n  Box, \n  Dialog, \n  DialogContent,\n  Checkbox,\n  FormControlLabel,\n} from '@mui/material';\nimport { PROD_API_URL, TEST_API_URL } from '@/services/api';\nimport { useAuth } from '@/hooks/useAuth';\nimport { storeCampaign } from '@/utils/campaign';\nimport { useSearchParams } from 'next/navigation';\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: number;\n  value: number;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n}\n\ninterface LoginModalProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nexport default function LoginModal({ open, onClose }: LoginModalProps) {\n  const [tabValue, setTabValue] = useState(0);\n  const [isRedirecting, setIsRedirecting] = useState(false);\n  const [joinDiscord, setJoinDiscord] = useState(false);\n  const tokenProcessedRef = useRef(false);\n  const { login, showLoginModal, setShowLoginModal } = useAuth();\n  const searchParams = useSearchParams();\n  const campaign = searchParams.get('campaign');\n\n  const handleTabChange = (_event: React.SyntheticEvent, newValue: number) => {\n    setTabValue(newValue);\n  };\n\n  const handleClose = useCallback(() => {\n    setShowLoginModal(false);\n    onClose();\n  }, [setShowLoginModal, onClose]);\n\n  useEffect(() => {\n    // Check if we have a token in the URL and haven't processed it yet\n    if (typeof window !== 'undefined' && !tokenProcessedRef.current) {\n      // Use Next.js useSearchParams to get token from URL\n      const token = searchParams.get('token');\n      \n      if (campaign) {\n        storeCampaign(campaign);\n      }\n      \n      if (token) {\n        tokenProcessedRef.current = true;\n        // Only show loading toast if we're not already redirecting\n        if (!isRedirecting) {\n          const loadingToast = toast.loading('Processing authentication...', {\n            duration: Infinity,\n            position: 'bottom-right',\n          });\n\n          login(token)\n            .then(response => {\n              if (response.success) {\n                // Clean up the URL by removing the token parameter\n                let newUrl = window.location.pathname;\n                \n                // Preserve hash if it exists\n                if (window.location.hash) {\n                  newUrl += window.location.hash;\n                }\n                \n                // Remove token from main URL parameters if it exists\n                const urlParams = new URLSearchParams(window.location.search);\n                urlParams.delete('token');\n                const newSearch = urlParams.toString();\n                if (newSearch) {\n                  newUrl += '?' + newSearch;\n                }\n                \n                window.history.replaceState({}, '', newUrl);\n                handleClose();\n              } else {\n                throw new Error(response.error || 'Authentication failed');\n              }\n            })\n            .catch(error => {\n              console.error('Authentication error:', error);\n              \n              // Clean up the URL by removing the token parameter on any auth error\n              let newUrl = window.location.pathname;\n              \n              // Preserve hash if it exists\n              if (window.location.hash) {\n                newUrl += window.location.hash;\n              }\n              \n              // Remove token from main URL parameters if it exists\n              const urlParams = new URLSearchParams(window.location.search);\n              urlParams.delete('token');\n              const newSearch = urlParams.toString();\n              if (newSearch) {\n                newUrl += '?' + newSearch;\n              }\n              \n              window.history.replaceState({}, '', newUrl);\n              // Reset the processed token state on error\n              tokenProcessedRef.current = false;\n            })\n            .finally(() => {\n              toast.dismiss(loadingToast);\n            });\n        }\n      }\n    }\n    \n    const handleSetLoginTab = (event: CustomEvent) => {\n      setTabValue(event.detail);\n    };\n\n    window.addEventListener('setLoginTab', handleSetLoginTab as EventListener);\n\n    return () => {\n      window.removeEventListener('setLoginTab', handleSetLoginTab as EventListener);\n    };\n  }, [onClose, isRedirecting, login, handleClose, searchParams, campaign]);\n\n  return (\n    <Dialog \n      open={open || showLoginModal} \n      onClose={handleClose}\n      maxWidth=\"sm\"\n      fullWidth\n      slotProps={{\n        paper: {\n          sx: {\n            backgroundColor: '#212A31',\n            border: '1px solid #2E3944',\n            borderRadius: '8px',\n            '& .MuiDialogContent-root': {\n              backgroundColor: '#212A31',\n              padding: '24px',\n              '&:first-of-type': {\n                paddingTop: '24px'\n              }\n            }\n          }\n        }\n      }}\n    >\n      <DialogContent sx={{ p: 3, backgroundColor: '#212A31 !important' }}>\n        {!campaign && (\n          <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 3 }}>\n            <Tabs \n              value={tabValue} \n              onChange={handleTabChange}\n              variant=\"fullWidth\"\n              sx={{\n                '& .MuiTabs-indicator': { backgroundColor: '#5865F2' },\n                '& .Mui-selected': { color: '#5865F2 !important' },\n                '& .MuiTab-root': { color: '#D3D9D4' }\n              }}\n            >\n              <Tab label=\"Discord\" />\n              <Tab label=\"Roblox\" />\n            </Tabs>\n          </Box>\n        )}\n\n        <TabPanel value={tabValue} index={0}>\n          <div className=\"flex flex-col items-center gap-6 mb-8\">\n            <Image\n              src=\"https://assets.jailbreakchangelogs.xyz/assets/logos/discord/Discord_Logo.webp\"\n              alt=\"Discord Logo\"\n              width={240}\n              height={72}\n              unoptimized\n              className=\"mb-2\"\n            />\n            <p className=\"text-sm text-center text-white\">\n              {campaign ? (\n                <>\n                  Log in with Discord to support the <span className=\"text-[#5865F2] font-medium\">{campaign}</span> campaign! Your login helps the campaign owner track participation and engagement. We only collect your publicly available Discord details. Your data security is important to us - there&apos;s no need to provide a password.\n                </>\n              ) : (\n                <>\n                  Jailbreak Changelogs connects with Discord to build your user profile. We only collect your publicly available Discord details. To use our trading features, you&apos;ll need to link your Roblox account after signing in. Your data security is important to us - there&apos;s no need to provide a password.\n                </>\n              )}\n            </p>\n          </div>\n\n          <div className=\"space-y-4 text-center\">\n            <p className=\"text-xs text-[#A0A7AC] mb-4\">\n              By continuing, you agree to our <a href=\"/tos\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline hover:text-muted\">Terms of Service</a> and <a href=\"/privacy\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline hover:text-muted\">Privacy Policy</a>.\n            </p>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={joinDiscord}\n                  onChange={(e) => setJoinDiscord(e.target.checked)}\n                  sx={{\n                    color: '#5865F2',\n                    '&.Mui-checked': {\n                      color: '#5865F2',\n                    },\n                    '& .MuiSvgIcon-root': {\n                      color: '#5865F2',\n                    },\n                    '&.Mui-checked .MuiSvgIcon-root': {\n                      color: '#5865F2',\n                    }\n                  }}\n                />\n              }\n              label={<span className=\"text-sm text-[#5865F2]\">Join our Discord server</span>}\n              sx={{ mb: 2 }}\n            />\n            <button\n              onClick={() => {\n                setIsRedirecting(true);\n                const currentURL = window.location.href;\n                const oauthRedirect = `${TEST_API_URL}/oauth?redirect=${encodeURIComponent(currentURL)}${joinDiscord ? '&join_discord=true' : ''}`;\n\n                toast.loading('Redirecting to Discord...', {\n                  duration: 2000,\n                  position: 'bottom-right',\n                });\n\n                window.location.href = oauthRedirect;\n              }}\n              className={`w-full py-3 px-4 rounded-md flex items-center justify-center gap-2 font-medium transition-all duration-200 bg-[#5865F2] hover:bg-[#4752C4] text-white shadow-lg hover:shadow-[#4752C4]/25`}\n            >\n              {campaign ? 'Login to Support Campaign' : 'Continue with Discord'}\n            </button>\n          </div>\n        </TabPanel>\n\n        {!campaign && (\n          <TabPanel value={tabValue} index={1}>\n            <div className=\"flex flex-col items-center gap-6 mb-8\">\n              <Image\n                src=\"https://assets.jailbreakchangelogs.xyz/assets/logos/roblox/Roblox_Logo.webp\"\n                alt=\"Roblox Logo\"\n                width={240}\n                height={72}\n                unoptimized\n                className=\"mb-2\"\n              />\n              <p className=\"text-sm text-center text-white\">\n                Connect your Roblox account to unlock trading features on Jailbreak Changelogs. We use secure methods for account verification. This step is typically done after logging in with Discord.\n              </p>\n            </div>\n            <div className=\"space-y-4 text-center\">\n              <p className=\"text-xs text-[#A0A7AC] mb-4\">\n                By continuing, you agree to our <a href=\"/tos\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline hover:text-muted\">Terms of Service</a> and <a href=\"/privacy\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline hover:text-muted\">Privacy Policy</a>.\n              </p>\n              <button\n                onClick={() => {\n                  // Get token from cookie\n                  const token = document.cookie\n                    .split('; ')\n                    .find(row => row.startsWith('token='))\n                    ?.split('=')[1];\n\n                  if (!token) {\n                    toast.error('Please log in with Discord first', {\n                      duration: 3000,\n                      position: 'bottom-right',\n                    });\n                    return;\n                  }\n\n                  setIsRedirecting(true);\n                  const currentURL = window.location.href;\n                  const oauthRedirect = `${PROD_API_URL}/oauth/roblox?redirect=${encodeURIComponent(currentURL)}&owner=${encodeURIComponent(token)}`;\n\n                  toast.loading('Redirecting to Roblox...', {\n                    duration: 2000,\n                    position: 'bottom-right',\n                  });\n\n                  window.location.href = oauthRedirect;\n                }}\n                className={`w-full py-3 px-4 rounded-md flex items-center justify-center gap-2 font-medium transition-all duration-200 bg-[#FF5630] hover:bg-[#E54B2C] text-white shadow-lg hover:shadow-[#E54B2C]/25`}\n              >\n                Continue with Roblox\n              </button>\n            </div>\n          </TabPanel>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/Auth/LoginModalWrapper.tsx"],"sourcesContent":["'use client';\n\nimport { Suspense } from 'react';\nimport LoginModal from './LoginModal';\n\ninterface LoginModalWrapperProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nexport default function LoginModalWrapper({ open, onClose }: LoginModalWrapperProps) {\n  return (\n    <Suspense fallback={null}>\n      <LoginModal open={open} onClose={onClose} />\n    </Suspense>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAUe,SAAS,kBAAkB,EAAE,IAAI,EAAE,OAAO,EAA0B;IACjF,qBACE,4TAAC,4RAAA,CAAA,WAAQ;QAAC,UAAU;kBAClB,cAAA,4TAAC,2IAAA,CAAA,UAAU;YAAC,MAAM;YAAM,SAAS;;;;;;;;;;;AAGvC;KANwB","debugId":null}},
    {"offset": {"line": 1156, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/utils/escapeLogin.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { TEST_API_URL } from '@/services/api';\n\nconst ESCAPE_COUNT_THRESHOLD = 5;\nconst ESCAPE_TIMEOUT = 2000; // 2 seconds\n\nasync function validateToken(token: string) {\n  try {\n    const response = await fetch(\n      `${TEST_API_URL}/users/get/token?token=${token}&nocache=true`,\n      {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error('Failed to validate token');\n    }\n\n    const data = await response.json();\n    return { success: true, data };\n  } catch (error) {\n    console.error('Error validating token:', error);\n    return { success: false, error: 'Failed to validate token' };\n  }\n}\n\nexport function useEscapeLogin() {\n  const [escapeCount, setEscapeCount] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [lastEscapeTime, setLastEscapeTime] = useState<number | null>(null);\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        const now = Date.now();\n        \n        if (lastEscapeTime && now - lastEscapeTime > ESCAPE_TIMEOUT) {\n          // Reset count if too much time has passed\n          setEscapeCount(1);\n        } else {\n          setEscapeCount(prev => prev + 1);\n        }\n        \n        setLastEscapeTime(now);\n\n        if (escapeCount + 1 >= ESCAPE_COUNT_THRESHOLD) {\n          setShowModal(true);\n          setEscapeCount(0);\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [escapeCount, lastEscapeTime]);\n\n  const handleTokenSubmit = async (token: string) => {\n    const result = await validateToken(token);\n    if (result.success) {\n      // Extract just the user data from the result\n      const userData = Array.isArray(result.data) ? result.data[0] : result.data;\n      \n      // Store user data in localStorage\n      localStorage.setItem('user', JSON.stringify(userData));\n      localStorage.setItem('userid', userData.id);\n      localStorage.setItem('avatar', userData.avatar);\n      \n      // Set token cookie\n      document.cookie = `token=${token}; path=/`;\n      \n      // Set avatar if available\n      if (userData.avatar) {\n        const avatarURL = `https://cdn.discordapp.com/avatars/${userData.id}/${userData.avatar}?size=4096`;\n        localStorage.setItem('avatar', avatarURL);\n      }\n      \n      // Dispatch custom event for components to listen to\n      window.dispatchEvent(new CustomEvent('authStateChanged', { detail: userData }));\n      \n      // Dismiss modal and reload\n      setShowModal(false);\n      window.location.reload();\n    }\n    return result;\n  };\n\n  return {\n    showModal,\n    setShowModal,\n    handleTokenSubmit\n  };\n} "],"names":[],"mappings":";;;AAEA;AACA;;AAHA;;;AAKA,MAAM,yBAAyB;AAC/B,MAAM,iBAAiB,MAAM,YAAY;AAEzC,eAAe,cAAc,KAAa;IACxC,IAAI;QACF,MAAM,WAAW,MAAM,MACrB,GAAG,yHAAA,CAAA,eAAY,CAAC,uBAAuB,EAAE,MAAM,aAAa,CAAC,EAC7D;YACE,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;QACF;QAGF,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO;YAAE,SAAS;YAAM;QAAK;IAC/B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;YAAE,SAAS;YAAO,OAAO;QAA2B;IAC7D;AACF;AAEO,SAAS;;IACd,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAiB;IAEpE,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;oCAAE;YACR,MAAM;0DAAgB,CAAC;oBACrB,IAAI,EAAE,GAAG,KAAK,UAAU;wBACtB,MAAM,MAAM,KAAK,GAAG;wBAEpB,IAAI,kBAAkB,MAAM,iBAAiB,gBAAgB;4BAC3D,0CAA0C;4BAC1C,eAAe;wBACjB,OAAO;4BACL;0EAAe,CAAA,OAAQ,OAAO;;wBAChC;wBAEA,kBAAkB;wBAElB,IAAI,cAAc,KAAK,wBAAwB;4BAC7C,aAAa;4BACb,eAAe;wBACjB;oBACF;gBACF;;YAEA,OAAO,gBAAgB,CAAC,WAAW;YACnC;4CAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;;QACrD;mCAAG;QAAC;QAAa;KAAe;IAEhC,MAAM,oBAAoB,OAAO;QAC/B,MAAM,SAAS,MAAM,cAAc;QACnC,IAAI,OAAO,OAAO,EAAE;YAClB,6CAA6C;YAC7C,MAAM,WAAW,MAAM,OAAO,CAAC,OAAO,IAAI,IAAI,OAAO,IAAI,CAAC,EAAE,GAAG,OAAO,IAAI;YAE1E,kCAAkC;YAClC,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C,aAAa,OAAO,CAAC,UAAU,SAAS,EAAE;YAC1C,aAAa,OAAO,CAAC,UAAU,SAAS,MAAM;YAE9C,mBAAmB;YACnB,SAAS,MAAM,GAAG,CAAC,MAAM,EAAE,MAAM,QAAQ,CAAC;YAE1C,0BAA0B;YAC1B,IAAI,SAAS,MAAM,EAAE;gBACnB,MAAM,YAAY,CAAC,mCAAmC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,SAAS,MAAM,CAAC,UAAU,CAAC;gBAClG,aAAa,OAAO,CAAC,UAAU;YACjC;YAEA,oDAAoD;YACpD,OAAO,aAAa,CAAC,IAAI,YAAY,oBAAoB;gBAAE,QAAQ;YAAS;YAE5E,2BAA2B;YAC3B,aAAa;YACb,OAAO,QAAQ,CAAC,MAAM;QACxB;QACA,OAAO;IACT;IAEA,OAAO;QACL;QACA;QACA;IACF;AACF;GAjEgB","debugId":null}},
    {"offset": {"line": 1269, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/Auth/EscapeLoginModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useEscapeLogin } from '@/utils/escapeLogin';\n\nexport default function EscapeLoginModal() {\n  const { showModal, setShowModal, handleTokenSubmit } = useEscapeLogin();\n  const [token, setToken] = useState('');\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    \n    const result = await handleTokenSubmit(token);\n    if (!result.success) {\n      setError('Invalid token. Please try again.');\n    }\n  };\n\n  if (!showModal) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <div \n        className=\"fixed inset-0 bg-black/50\"\n        onClick={() => setShowModal(false)}\n      />\n      <div className=\"relative w-full max-w-md rounded-lg bg-[#212A31] p-6 shadow-xl\">\n        {/* Header */}\n        <div className=\"mb-6 flex items-center justify-between border-b border-[#2E3944] pb-4\">\n          <h2 className=\"text-xl font-semibold text-muted\">Login with Token</h2>\n          <button\n            onClick={() => setShowModal(false)}\n            className=\"rounded-md p-1 text-muted hover:bg-[#2E3944]\"\n          >\n            <svg\n              className=\"h-5 w-5\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"token\" className=\"mb-2 block text-sm font-medium text-muted\">\n              Enter your token\n            </label>\n            <input\n              type=\"text\"\n              id=\"token\"\n              value={token}\n              onChange={(e) => setToken(e.target.value)}\n              className=\"w-full rounded-md border border-[#2E3944] bg-[#2E3944] px-3 py-2 text-muted placeholder-[#FFFFFF] focus:border-[#5865F2] focus:outline-none\"\n              placeholder=\"Enter your token\"\n            />\n            {error && (\n              <p className=\"mt-2 text-sm text-red-500\">{error}</p>\n            )}\n          </div>\n\n          {/* Actions */}\n          <div className=\"mt-6 flex justify-end gap-2 border-t border-[#2E3944] pt-4\">\n            <button\n              type=\"button\"\n              onClick={() => setShowModal(false)}\n              className=\"rounded-md px-4 py-2 text-sm font-medium text-muted hover:bg-[#2E3944]\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"rounded-md bg-[#5865F2] px-4 py-2 text-sm font-medium text-white hover:bg-[#4752C4]\"\n            >\n              Login\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QAET,MAAM,SAAS,MAAM,kBAAkB;QACvC,IAAI,CAAC,OAAO,OAAO,EAAE;YACnB,SAAS;QACX;IACF;IAEA,IAAI,CAAC,WAAW,OAAO;IAEvB,qBACE,4TAAC;QAAI,WAAU;;0BACb,4TAAC;gBACC,WAAU;gBACV,SAAS,IAAM,aAAa;;;;;;0BAE9B,4TAAC;gBAAI,WAAU;;kCAEb,4TAAC;wBAAI,WAAU;;0CACb,4TAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,4TAAC;gCACC,SAAS,IAAM,aAAa;gCAC5B,WAAU;0CAEV,cAAA,4TAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,4TAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;kCAMV,4TAAC;wBAAK,UAAU;wBAAc,WAAU;;0CACtC,4TAAC;;kDACC,4TAAC;wCAAM,SAAQ;wCAAQ,WAAU;kDAA4C;;;;;;kDAG7E,4TAAC;wCACC,MAAK;wCACL,IAAG;wCACH,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,WAAU;wCACV,aAAY;;;;;;oCAEb,uBACC,4TAAC;wCAAE,WAAU;kDAA6B;;;;;;;;;;;;0CAK9C,4TAAC;gCAAI,WAAU;;kDACb,4TAAC;wCACC,MAAK;wCACL,SAAS,IAAM,aAAa;wCAC5B,WAAU;kDACX;;;;;;kDAGD,4TAAC;wCACC,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GArFwB;;QACiC,8HAAA,CAAA,iBAAc;;;KAD/C","debugId":null}},
    {"offset": {"line": 1458, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/utils/avatar.tsx"],"sourcesContent":["import Image from 'next/image';\nimport { useState } from 'react';\nimport { styled } from '@mui/material/styles';\nimport Badge from '@mui/material/Badge';\nimport { CircularProgress } from '@mui/material';\n\nconst StyledBadge = styled(Badge)(({ theme }) => ({\n  '& .MuiBadge-badge': {\n    backgroundColor: '#44b700',\n    color: '#44b700',\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n    '&::after': {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      borderRadius: '50%',\n      animation: 'ripple 1.2s infinite ease-in-out',\n      border: '1px solid currentColor',\n      content: '\"\"',\n    },\n  },\n  '@keyframes ripple': {\n    '0%': {\n      transform: 'scale(.8)',\n      opacity: 1,\n    },\n    '100%': {\n      transform: 'scale(2.4)',\n      opacity: 0,\n    },\n  },\n}));\n\nconst OfflineBadge = styled(Badge)(({ theme }) => ({\n  '& .MuiBadge-badge': {\n    backgroundColor: '#bdbdbd',\n    color: '#bdbdbd',\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n  },\n}));\n\ninterface UserAvatarProps {\n  userId: string;\n  avatarHash: string | null;\n  username: string;\n  size?: number;\n  accent_color?: string;\n  custom_avatar?: string;\n  isOnline?: boolean;\n  showBadge?: boolean;\n  settings?: {\n    avatar_discord: number;\n  };\n  shape?: 'circle' | 'square';\n  showBorder?: boolean;\n  premiumType?: number;\n}\n\n/**\n * Formats a color value to a hex color format by taking first 6 characters\n * @param color - The color value to format\n * @returns A hex color string with a # prefix, or a default color if input is invalid\n */\nfunction formatAccentColor(color: number | string | null | undefined): string {\n  // Return default color if color is falsy, \"None\", or \"0\"\n  if (!color || color === \"None\" || color === \"0\") return \"#124e66\";\n\n  // If it's a string, pad with zeros to 6 chars, then use first 6 chars\n  if (typeof color === 'string') {\n    const padded = (color + '000000').substring(0, 6);\n    return `#${padded}`;\n  }\n\n  // If it's a number, convert to string, pad with zeros, then use first 6 chars\n  if (typeof color === 'number') {\n    const colorStr = color.toString();\n    const padded = (colorStr + '000000').substring(0, 6);\n    return `#${padded}`;\n  }\n\n  // If all else fails, return the default color\n  return \"#124e66\";\n}\n\nexport const DefaultAvatar = () => (\n  <svg\n    className=\"w-full h-full text-muted\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#2E3944\" />\n    <path\n      d=\"M12 13.5C14.4853 13.5 16.5 11.4853 16.5 9C16.5 6.51472 14.4853 4.5 12 4.5C9.51472 4.5 7.5 6.51472 7.5 9C7.5 11.4853 9.51472 13.5 12 13.5Z\"\n      fill=\"#d3d9d4\"\n    />\n    <path\n      d=\"M12 15C8.13401 15 5 18.134 5 22H19C19 18.134 15.866 15 12 15Z\"\n      fill=\"#d3d9d4\"\n    />\n  </svg>\n);\n\nconst BadgeWrapper = ({ children, isOnline, showBadge, shape = 'circle' }: { children: React.ReactNode; isOnline?: boolean; showBadge?: boolean; shape?: 'circle' | 'square' }) => {\n  if (!showBadge) return <>{children}</>;\n  \n  const badgeProps = {\n    overlap: shape === 'circle' ? \"circular\" as const : \"rectangular\" as const,\n    anchorOrigin: shape === 'circle' \n      ? { vertical: 'bottom' as const, horizontal: 'right' as const }\n      : { vertical: 'bottom' as const, horizontal: 'right' as const },\n    variant: \"dot\" as const\n  };\n  \n  return isOnline ? (\n    <StyledBadge {...badgeProps}>\n      {children}\n    </StyledBadge>\n  ) : (\n    <OfflineBadge {...badgeProps}>\n      {children}\n    </OfflineBadge>\n  );\n};\n\nexport const UserAvatar = ({ \n  userId, \n  avatarHash, \n  username, \n  size = 12, \n  accent_color, \n  custom_avatar, \n  isOnline, \n  showBadge = true,\n  settings,\n  shape = 'circle',\n  showBorder = true,\n  premiumType\n}: UserAvatarProps) => {\n  const [imageError, setImageError] = useState(false);\n  const [customAvatarError, setCustomAvatarError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Calculate the border style based on accent color and showBorder prop\n  const formattedAccentColor = formatAccentColor(accent_color);\n  const borderStyle = showBorder ? { border: `3px solid ${formattedAccentColor}` } : {};\n\n  // Determine the final shape: if premiumType is 3, use square, otherwise use the shape prop\n  const finalShape = premiumType === 3 ? 'square' : shape;\n\n  const getAvatarSource = () => {\n    // If user wants to use Discord avatar and we haven't had an error yet\n    if (settings?.avatar_discord === 1 && !imageError) {\n      // Only show Discord avatar if it exists and is not \"None\"\n      if (avatarHash && avatarHash !== \"None\") {\n        const url = `https://cdn.discordapp.com/avatars/${userId}/${avatarHash}?size=4096`;\n        return {\n          src: url,\n          alt: username ? `${username}'s profile picture` : 'User avatar',\n          unoptimized: true,\n          onError: () => setImageError(true)\n        };\n      }\n    }\n\n    // If user has explicitly chosen to use custom avatar (Discord toggle off)\n    if (settings?.avatar_discord === 0 && custom_avatar && custom_avatar !== \"N/A\" && !customAvatarError) {\n      return {\n        src: custom_avatar,\n        alt: username ? `${username}'s profile picture` : 'User avatar',\n        unoptimized: true,\n        onError: () => setCustomAvatarError(true)\n      };\n    }\n\n    // Default fallback to placeholder avatar\n    return null;\n  };\n\n  const avatarSource = getAvatarSource();\n\n  if (!avatarSource) {\n    return (\n      <BadgeWrapper isOnline={isOnline} showBadge={showBadge} shape={finalShape}>\n        <div \n          className={`relative ${finalShape === 'circle' ? 'rounded-full' : 'rounded-lg'} overflow-hidden flex-shrink-0`}\n          style={{\n            ...borderStyle,\n            width: size * 4,\n            height: size * 4,\n            minWidth: size * 4,\n            minHeight: size * 4,\n          }}\n        >\n          <div className=\"w-full h-full bg-[#2E3944] flex items-center justify-center\">\n            <DefaultAvatar />\n          </div>\n        </div>\n      </BadgeWrapper>\n    );\n  }\n\n  return (\n    <BadgeWrapper isOnline={isOnline} showBadge={showBadge} shape={finalShape}>\n      <div \n        className={`relative ${finalShape === 'circle' ? 'rounded-full' : 'rounded-lg'} overflow-hidden flex-shrink-0`}\n        style={{\n          ...borderStyle,\n          width: size * 4,\n          height: size * 4,\n          minWidth: size * 4,\n          minHeight: size * 4,\n        }}\n      >\n        {isLoading && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-[#2E3944]\">\n            <CircularProgress size={24} sx={{ color: '#5865F2' }} />\n          </div>\n        )}\n        <Image\n          src={avatarSource.src}\n          alt={avatarSource.alt}\n          fill\n          priority\n          draggable={false}\n          unoptimized={avatarSource.unoptimized}\n          onError={avatarSource.onError}\n          onLoad={() => {\n            setIsLoading(false);\n          }}\n          className=\"object-cover\"\n        />\n      </div>\n    </BadgeWrapper>\n  );\n}; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1757, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/Icons/RobloxIcon.tsx"],"sourcesContent":["export const RobloxIcon = ({ className }: { className?: string }) => (\n  <svg\n    className={`text-muted ${className || ''}`}\n    viewBox=\"0 0 24 24\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path d=\"M18.926 23.998L0 18.892L5.075.002L24 5.108ZM15.348 10.09l-5.282-1.453l-1.414 5.273l5.282 1.453z\" />\n  </svg>\n); "],"names":[],"mappings":";;;;;AAAO,MAAM,aAAa,CAAC,EAAE,SAAS,EAA0B,iBAC9D,4TAAC;QACC,WAAW,CAAC,WAAW,EAAE,aAAa,IAAI;QAC1C,SAAQ;QACR,MAAK;QACL,OAAM;kBAEN,cAAA,4TAAC;YAAK,GAAE;;;;;;;;;;;KAPC","debugId":null}},
    {"offset": {"line": 1791, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/Layout/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { usePathname } from \"next/navigation\";\nimport { \n  AppBar, \n  Toolbar, \n  Button, \n  Box, \n  IconButton, \n  Drawer,\n  List,\n  ListItem,\n  ListItemText,\n  useMediaQuery,\n  useTheme,\n  Menu,\n  MenuItem,\n  Typography,\n  ListItemIcon,\n  Divider,\n  Tooltip,\n} from '@mui/material';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport CloseIcon from '@mui/icons-material/Close';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport { useState, useEffect } from 'react';\nimport { getToken, logout, trackLogoutSource } from '@/utils/auth';\nimport toast from 'react-hot-toast';\nimport LoginModalWrapper from '../Auth/LoginModalWrapper';\nimport EscapeLoginModal from '../Auth/EscapeLoginModal';\nimport { useEscapeLogin } from '@/utils/escapeLogin';\nimport { UserData } from '../../types/auth';\nimport { UserAvatar } from '@/utils/avatar';\nimport { RobloxIcon } from '@/components/Icons/RobloxIcon';\nimport { TEST_API_URL } from '@/services/api';\n\nexport default function Header() {\n  const pathname = usePathname();\n  const isCollabPage = pathname === \"/values\" || pathname.startsWith(\"/item\") || pathname.startsWith(\"/trading\") || pathname.startsWith(\"/values/changelogs\");\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('lg'));\n  const isSmallScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const [userData, setUserData] = useState<UserData | null>(null);\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const [mounted, setMounted] = useState(false);\n  const [loginModalOpen, setLoginModalOpen] = useState(false);\n  const [navMenuAnchorEl, setNavMenuAnchorEl] = useState<null | HTMLElement>(null);\n  const [communityMenuAnchorEl, setCommunityMenuAnchorEl] = useState<null | HTMLElement>(null);\n  const [isDiscordModalOpen, setIsDiscordModalOpen] = useState(false);\n  const [navMenuCloseTimeout, setNavMenuCloseTimeout] = useState<NodeJS.Timeout | null>(null);\n  const [communityMenuCloseTimeout, setCommunityMenuCloseTimeout] = useState<NodeJS.Timeout | null>(null);\n  useEscapeLogin();\n\n  useEffect(() => {\n    setMounted(true);\n    \n    const validateAndUpdateUserData = async () => {\n      const token = getToken();\n      if (!token) {\n        setUserData(null);\n        return;\n      }\n\n      // First check if we have cached user data\n      const cachedUserData = localStorage.getItem('user');\n      if (cachedUserData) {\n        try {\n          const parsedUserData = JSON.parse(cachedUserData);\n          setUserData(parsedUserData);\n        } catch (error) {\n          console.error('Error parsing cached user data:', error);\n        }\n      }\n\n      // If we're offline, just use the cached data\n      if (navigator && !navigator.onLine) {\n        console.log('Offline: Using cached user data');\n        return;\n      }\n\n      try {\n        const response = await fetch(`${TEST_API_URL}/users/get/token?token=${token}&nocache=true`);\n        if (!response.ok) {\n          // Only clear data if it's an auth error\n          if (response.status === 403) {\n            localStorage.removeItem('user');\n            setUserData(null);\n          }\n          return;\n        }\n\n        const userData = await response.json();\n        localStorage.setItem('user', JSON.stringify(userData));\n        setUserData(userData);\n      } catch (error) {\n        // On network error, keep existing data\n        console.error('Error validating token:', error);\n      }\n    };\n\n    // Initial validation\n    validateAndUpdateUserData();\n\n    // Add event listener for auth changes\n    const handleAuthChange = (event: CustomEvent) => {\n      // Update user data when auth state changes\n      const userData = event.detail;\n      setUserData(userData);\n    };\n\n    // Listen for auth changes\n    window.addEventListener('authStateChanged', handleAuthChange as EventListener);\n\n    return () => {\n      window.removeEventListener('authStateChanged', handleAuthChange as EventListener);\n    };\n  }, []);\n\n  const handleMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogout = async () => {\n    await trackLogoutSource('Header Component');\n    await logout();\n    setUserData(null);\n    handleMenuClose();\n    toast.success('Successfully logged out!', {\n      duration: 2000,\n      position: 'bottom-right',\n    });\n  };\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const handleNavMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    // Close community menu immediately if it's open\n    if (communityMenuAnchorEl) {\n      if (communityMenuCloseTimeout) {\n        clearTimeout(communityMenuCloseTimeout);\n        setCommunityMenuCloseTimeout(null);\n      }\n      setCommunityMenuAnchorEl(null);\n    }\n\n    if (navMenuCloseTimeout) {\n      clearTimeout(navMenuCloseTimeout);\n      setNavMenuCloseTimeout(null);\n    }\n    setNavMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleNavMenuClose = () => {\n    const timeout = setTimeout(() => {\n      setNavMenuAnchorEl(null);\n    }, 150);\n    setNavMenuCloseTimeout(timeout);\n  };\n\n  const navMenuOpen = Boolean(navMenuAnchorEl);\n\n  const handleCommunityMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    // Close nav menu immediately if it's open\n    if (navMenuAnchorEl) {\n      if (navMenuCloseTimeout) {\n        clearTimeout(navMenuCloseTimeout);\n        setNavMenuCloseTimeout(null);\n      }\n      setNavMenuAnchorEl(null);\n    }\n\n    if (communityMenuCloseTimeout) {\n      clearTimeout(communityMenuCloseTimeout);\n      setCommunityMenuCloseTimeout(null);\n    }\n    setCommunityMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleCommunityMenuClose = () => {\n    const timeout = setTimeout(() => {\n      setCommunityMenuAnchorEl(null);\n    }, 150);\n    setCommunityMenuCloseTimeout(timeout);\n  };\n\n  const communityMenuOpen = Boolean(communityMenuAnchorEl);\n\n  // Cleanup timeouts on unmount\n  useEffect(() => {\n    return () => {\n      if (navMenuCloseTimeout) {\n        clearTimeout(navMenuCloseTimeout);\n      }\n      if (communityMenuCloseTimeout) {\n        clearTimeout(communityMenuCloseTimeout);\n      }\n    };\n  }, [navMenuCloseTimeout, communityMenuCloseTimeout]);\n\n  const drawer = (\n    <List>\n      <ListItem sx={{ justifyContent: 'space-between', alignItems: 'center' }}>\n        <Typography \n          sx={{ \n            color: '#D3D9D4',\n            fontSize: '0.875rem',\n            fontWeight: 600,\n            textTransform: 'uppercase',\n            letterSpacing: '0.05em'\n          }}\n        >\n          Game & Updates\n        </Typography>\n        <IconButton onClick={handleDrawerToggle} sx={{ color: '#D3D9D4' }}>\n          <CloseIcon />\n        </IconButton>\n      </ListItem>\n      <Divider sx={{ borderColor: '#2E3944' }} />\n      <ListItem component={Link} href=\"/changelogs\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"Changelogs\" />\n      </ListItem>\n      <ListItem component={Link} href=\"/seasons\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"Seasons\" />\n      </ListItem>\n      <ListItem>\n        <Typography \n          sx={{ \n            color: '#D3D9D4',\n            fontSize: '0.875rem',\n            fontWeight: 600,\n            textTransform: 'uppercase',\n            letterSpacing: '0.05em'\n          }}\n        >\n          Values\n        </Typography>\n      </ListItem>\n      <Divider sx={{ borderColor: '#2E3944' }} />\n      <ListItem component={Link} href=\"/values\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"Value List\" />\n      </ListItem>\n      <ListItem component={Link} href=\"/values/changelogs\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"Value Changelogs\" />\n      </ListItem>\n      <ListItem component={Link} href=\"/values/calculator\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"Value Calculator\" />\n      </ListItem>\n      <ListItem component={Link} href=\"/dupes/calculator\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"Dupe Calculator\" />\n      </ListItem>\n      <ListItem component={Link} href=\"/trading\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"Trade Ads\" />\n      </ListItem>\n      <ListItem>\n        <Typography \n          sx={{ \n            color: '#D3D9D4',\n            fontSize: '0.875rem',\n            fontWeight: 600,\n            textTransform: 'uppercase',\n            letterSpacing: '0.05em'\n          }}\n        >\n          Community\n        </Typography>\n      </ListItem>\n      <Divider sx={{ borderColor: '#2E3944' }} />\n      <ListItem component={Link} href=\"/users\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"User Search\" />\n      </ListItem>\n      <ListItem component={Link} href=\"/servers\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"Private Servers\" />\n      </ListItem>\n      <ListItem component={Link} href=\"/bot\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"Discord Bot\" />\n      </ListItem>\n      <ListItem component={Link} href=\"/faq\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"FAQ\" />\n      </ListItem>\n      <ListItem component={Link} href=\"/contributors\" onClick={handleDrawerToggle} sx={{ pl: 4 }}>\n        <ListItemText primary=\"Contributors\" />\n      </ListItem>\n      {mounted && userData ? (\n        <>\n          <Divider sx={{ borderColor: '#2E3944' }} />\n          <ListItem \n            component={Link}\n            href={`/users/${userData?.id}`}\n            onClick={handleDrawerToggle}\n            sx={{ \n              cursor: 'pointer',\n              '&:hover': { backgroundColor: '#2E3944' }\n            }}\n          >\n            <ListItemIcon>\n              <UserAvatar\n                userId={userData.id}\n                avatarHash={userData.avatar}\n                username={userData.username}\n                size={10}\n                accent_color={userData.accent_color}\n                custom_avatar={userData.custom_avatar}\n                showBadge={false}\n                settings={userData.settings}\n                premiumType={userData.premiumtype}\n              />\n            </ListItemIcon>\n            <ListItemText primary=\"My account\" />\n          </ListItem>\n          {!userData.roblox_id && (\n            <ListItem \n              component=\"div\"\n              onClick={() => { \n                handleDrawerToggle();\n                setLoginModalOpen(true);\n                const event = new CustomEvent('setLoginTab', { detail: 1 });\n                window.dispatchEvent(event);\n              }}\n              sx={{ \n                cursor: 'pointer',\n                '&:hover': { backgroundColor: '#2E3944' }\n              }}\n            >\n              <ListItemIcon>\n                <RobloxIcon className=\"h-5 w-5\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Connect Roblox\" />\n            </ListItem>\n          )}\n          <ListItem \n            component={Link}\n            href=\"/settings\"\n            onClick={handleDrawerToggle}\n            sx={{ \n              cursor: 'pointer',\n              '&:hover': { backgroundColor: '#2E3944' }\n            }}\n          >\n            <ListItemIcon>\n              <SettingsIcon sx={{ color: '#D3D9D4' }} />\n            </ListItemIcon>\n            <ListItemText primary=\"Settings\" />\n          </ListItem>\n          <ListItem \n            component=\"div\"\n            onClick={handleLogout}\n            sx={{ \n              cursor: 'pointer',\n              '&:hover': { backgroundColor: '#2E3944' }\n            }}\n          >\n            <ListItemIcon>\n              <LogoutIcon sx={{ color: '#D3D9D4' }} />\n            </ListItemIcon>\n            <ListItemText primary=\"Logout\" />\n          </ListItem>\n        </>\n      ) : (\n        <ListItem>\n          <Button\n            variant=\"contained\"\n            onClick={() => {\n              setLoginModalOpen(true);\n              handleDrawerToggle();\n            }}\n            sx={{\n              backgroundColor: '#5865F2',\n              '&:hover': {\n                backgroundColor: '#4752C4',\n              },\n              width: '100%'\n            }}\n          >\n            Login\n          </Button>\n        </ListItem>\n      )}\n    </List>\n  );\n\n  return (\n    <>\n      <AppBar \n        position=\"sticky\" \n        sx={{ \n          backgroundColor: 'rgba(33, 42, 49, 0.75)',\n          backdropFilter: 'blur(8px)',\n          WebkitBackdropFilter: 'blur(8px)',\n          top: 0,\n          zIndex: 1200\n        }}\n      >\n        <Toolbar className=\"flex justify-between items-center\">\n          <Box className=\"flex items-center\">\n            <Link href=\"/\" style={{ display: 'block' }}>\n              <Image\n                src={\n                  isCollabPage\n                    ? \"https://assets.jailbreakchangelogs.xyz/assets/logos/collab/JBCL_X_TC_Logo_Long_Transparent.webp\"\n                    : \"https://assets.jailbreakchangelogs.xyz/assets/logos/JBCL_Long_Transparent.webp\"\n                }\n                alt=\"Jailbreak Changelogs Logo\"\n                width={isSmallScreen ? 150 : 200}\n                height={isSmallScreen ? 36 : 48}\n                quality={90}\n                priority\n                unoptimized\n                style={{ \n                  height: isSmallScreen ? '36px' : '48px', \n                  width: 'auto' \n                }}\n              />\n            </Link>\n          </Box>\n          {mounted && !isMobile && (\n            <>\n              <Box className=\"flex items-center gap-2 absolute left-1/2 transform -translate-x-1/2\">\n                <Button\n                  component={Link}\n                  href=\"/changelogs\"\n                  sx={{\n                    color: '#D3D9D4',\n                    '&:hover': {\n                      color: '#FFFFFF',\n                      backgroundColor: 'transparent'\n                    }\n                  }}\n                >\n                  <Typography variant=\"button\">Changelogs</Typography>\n                </Button>\n                \n                <Button\n                  component={Link}\n                  href=\"/seasons\"\n                  sx={{\n                    color: '#D3D9D4',\n                    '&:hover': {\n                      color: '#FFFFFF',\n                      backgroundColor: 'transparent'\n                    }\n                  }}\n                >\n                  <Typography variant=\"button\">Seasons</Typography>\n                </Button>\n                \n                <Box\n                  onMouseEnter={handleNavMenuOpen}\n                  onMouseLeave={handleNavMenuClose}\n                  sx={{ position: 'relative' }}\n                >\n                  <Button\n                    type=\"button\"\n                    sx={{\n                      color: '#D3D9D4',\n                      '&:hover': {\n                        color: '#FFFFFF',\n                        backgroundColor: 'transparent'\n                      }\n                    }}\n                  >\n                    <Typography variant=\"button\">Values</Typography>\n                    <KeyboardArrowDownIcon \n                      sx={{ \n                        ml: 0.5,\n                        fontSize: '1.2rem',\n                        transition: 'transform 0.2s',\n                        transform: navMenuOpen ? 'rotate(180deg)' : 'rotate(0deg)'\n                      }} \n                    />\n                  </Button>\n\n                  <Menu\n                    anchorEl={navMenuAnchorEl}\n                    open={navMenuOpen}\n                    onClose={handleNavMenuClose}\n                    slotProps={{\n                      list: {\n                        'aria-labelledby': 'nav-menu-button',\n                        onMouseLeave: handleNavMenuClose\n                      }\n                    }}\n                    sx={{\n                      pointerEvents: 'none',\n                      '& .MuiPaper-root': {\n                        pointerEvents: 'auto',\n                        backgroundColor: '#212A31',\n                        color: '#D3D9D4',\n                        mt: 1,\n                        '& .MuiMenuItem-root': {\n                          '&:hover': {\n                            backgroundColor: '#2E3944',\n                          },\n                        },\n                      },\n                    }}\n                  >\n                    <MenuItem \n                      component={Link} \n                      href=\"/values\"\n                      onClick={handleNavMenuClose}\n                    >\n                      Value List\n                    </MenuItem>\n                    <Divider sx={{ borderColor: '#2E3944' }} />\n                    <MenuItem \n                      component={Link} \n                      href=\"/values/changelogs\" \n                      onClick={handleNavMenuClose}\n                    >\n                      Value Changelogs\n                    </MenuItem>\n                    <Divider sx={{ borderColor: '#2E3944' }} />\n                    <MenuItem \n                      component={Link} \n                      href=\"/values/calculator\"\n                      onClick={handleNavMenuClose}\n                    >\n                      Value Calculator\n                    </MenuItem>\n                    <Divider sx={{ borderColor: '#2E3944' }} />\n                    <MenuItem \n                      component={Link} \n                      href=\"/dupes/calculator\"\n                      onClick={handleNavMenuClose}\n                    >\n                      Dupe Calculator\n                    </MenuItem>\n                    <Divider sx={{ borderColor: '#2E3944' }} />\n                    <MenuItem \n                      component={Link} \n                      href=\"/trading\"\n                      onClick={handleNavMenuClose}\n                    >\n                      Trade Ads\n                    </MenuItem>\n                  </Menu>\n                </Box>\n\n                <Box\n                  onMouseEnter={handleCommunityMenuOpen}\n                  onMouseLeave={handleCommunityMenuClose}\n                  sx={{ position: 'relative' }}\n                >\n                  <Button\n                    type=\"button\"\n                    sx={{\n                      color: '#D3D9D4',\n                      '&:hover': {\n                        color: '#FFFFFF',\n                        backgroundColor: 'transparent'\n                      }\n                    }}\n                  >\n                    <Typography variant=\"button\">Community</Typography>\n                    <KeyboardArrowDownIcon \n                      sx={{ \n                        ml: 0.5,\n                        fontSize: '1.2rem',\n                        transition: 'transform 0.2s',\n                        transform: communityMenuOpen ? 'rotate(180deg)' : 'rotate(0deg)'\n                      }} \n                    />\n                  </Button>\n\n                  <Menu\n                    anchorEl={communityMenuAnchorEl}\n                    open={communityMenuOpen}\n                    onClose={handleCommunityMenuClose}\n                    slotProps={{\n                      list: {\n                        'aria-labelledby': 'community-menu-button',\n                        onMouseLeave: handleCommunityMenuClose\n                      }\n                    }}\n                    sx={{\n                      pointerEvents: 'none',\n                      '& .MuiPaper-root': {\n                        pointerEvents: 'auto',\n                        backgroundColor: '#212A31',\n                        color: '#D3D9D4',\n                        mt: 1,\n                        '& .MuiMenuItem-root': {\n                          '&:hover': {\n                            backgroundColor: '#2E3944',\n                          },\n                        },\n                      },\n                    }}\n                  >\n                    <MenuItem \n                      component={Link} \n                      href=\"/users\"\n                      onClick={handleCommunityMenuClose}\n                    >\n                      <Typography variant=\"body1\">User Search</Typography>\n                    </MenuItem>\n                    <Divider sx={{ borderColor: '#2E3944' }} />\n                    <MenuItem \n                      component={Link} \n                      href=\"/servers\"\n                      onClick={handleCommunityMenuClose}\n                    >\n                      <Typography variant=\"body1\">Private Servers</Typography>\n                    </MenuItem>\n                    <Divider sx={{ borderColor: '#2E3944' }} />\n                    <MenuItem \n                      component={Link} \n                      href=\"/bot\"\n                      onClick={handleCommunityMenuClose}\n                    >\n                      <Typography variant=\"body1\">Discord Bot</Typography>\n                    </MenuItem>\n                    <Divider sx={{ borderColor: '#2E3944' }} />\n                    <MenuItem \n                      component={Link} \n                      href=\"/faq\"\n                      onClick={handleCommunityMenuClose}\n                    >\n                      <Typography variant=\"body1\">FAQ</Typography>\n                    </MenuItem>\n                    <Divider sx={{ borderColor: '#2E3944' }} />\n                    <MenuItem \n                      component={Link} \n                      href=\"/contributors\"\n                      onClick={handleCommunityMenuClose}\n                    >\n                      <Typography variant=\"body1\">Contributors</Typography>\n                    </MenuItem>\n                  </Menu>\n                </Box>\n              </Box>\n\n              <Box className=\"flex items-center gap-2 ml-auto\">\n                <Tooltip title=\"Join our Discord\">\n                  <IconButton\n                    onClick={() => setIsDiscordModalOpen(true)}\n                    sx={{\n                      color: '#5865F2',\n                      '&:hover': {\n                        color: '#4752C4',\n                        backgroundColor: 'rgba(88, 101, 242, 0.1)'\n                      }\n                    }}\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"24\"\n                      height=\"24\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"currentColor\"\n                    >\n                      <path d=\"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994.021-.041.001-.09-.041-.106a13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z\"/>\n                    </svg>\n                  </IconButton>\n                </Tooltip>\n\n                {userData ? (\n                  <>\n                    <Box \n                      sx={{ \n                        display: 'flex', \n                        alignItems: 'center', \n                        gap: 1, \n                        ml: 2,\n                        cursor: 'pointer',\n                        backgroundColor: '#192025',\n                        padding: '6px 12px',\n                        borderRadius: '20px',\n                        transition: 'background-color 0.2s',\n                        '&:hover': {\n                          backgroundColor: '#111619'\n                        }\n                      }}\n                      onClick={handleMenuOpen}\n                    >\n                      <Tooltip title=\"Account settings\">\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                          <Typography \n                            variant=\"body1\" \n                            sx={{ \n                              color: '#D3D9D4',\n                              fontWeight: 600\n                            }}\n                          >\n                            {userData.username}\n                          </Typography>\n                          <IconButton\n                            size=\"small\"\n                            aria-controls={Boolean(anchorEl) ? 'account-menu' : undefined}\n                            aria-haspopup=\"true\"\n                            aria-expanded={Boolean(anchorEl) ? 'true' : undefined}\n                            sx={{\n                              padding: 0,\n                              '&:hover': {\n                                backgroundColor: 'transparent'\n                              }\n                            }}\n                          >\n                            <UserAvatar\n                              userId={userData.id}\n                              avatarHash={userData.avatar}\n                              username={userData.username}\n                              size={10}\n                              accent_color={userData.accent_color}\n                              custom_avatar={userData.custom_avatar}\n                              showBadge={false}\n                              settings={userData.settings}\n                              premiumType={userData.premiumtype}\n                            />\n                          </IconButton>\n                        </Box>\n                      </Tooltip>\n                    </Box>\n                    <Menu\n                      anchorEl={anchorEl}\n                      id=\"account-menu\"\n                      open={Boolean(anchorEl)}\n                      onClose={handleMenuClose}\n                      onClick={handleMenuClose}\n                      slotProps={{\n                        paper: {\n                          elevation: 0,\n                          sx: {\n                            overflow: 'visible',\n                            filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n                            mt: 1.5,\n                            backgroundColor: '#212A31',\n                            color: '#D3D9D4',\n                            '& .MuiAvatar-root': {\n                              width: 32,\n                              height: 32,\n                              ml: -0.5,\n                              mr: 1,\n                            },\n                            '& .MuiMenuItem-root': {\n                              '&:hover': {\n                                backgroundColor: '#2E3944',\n                              },\n                            },\n                            '& .MuiListItemIcon-root': {\n                              color: '#D3D9D4',\n                            },\n                            '&::before': {\n                              content: '\"\"',\n                              display: 'block',\n                              position: 'absolute',\n                              top: 0,\n                              right: 14,\n                              width: 10,\n                              height: 10,\n                              bgcolor: '#212A31',\n                              transform: 'translateY(-50%) rotate(45deg)',\n                              zIndex: 0,\n                            },\n                          },\n                        },\n                      }}\n                      transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n                      anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n                    >\n                      <MenuItem \n                        component={Link}\n                        href={`/users/${userData?.id}`}\n                        onClick={handleMenuClose}\n                      >\n                        <UserAvatar\n                          userId={userData.id}\n                          avatarHash={userData.avatar}\n                          username={userData.username}\n                          size={10}\n                          accent_color={userData.accent_color}\n                          custom_avatar={userData.custom_avatar}\n                          showBadge={false}\n                          settings={userData.settings}\n                          premiumType={userData.premiumtype}\n                        />\n                        <Typography variant=\"body1\" sx={{ ml: 2 }}>My account</Typography>\n                      </MenuItem>\n                      <Divider />\n                      {!userData.roblox_id && (\n                        <MenuItem onClick={() => { \n                          handleMenuClose(); \n                          setLoginModalOpen(true);\n                          // Set tab to Roblox tab\n                          const event = new CustomEvent('setLoginTab', { detail: 1 });\n                          window.dispatchEvent(event);\n                        }}>\n                          <ListItemIcon>\n                            <RobloxIcon className=\"h-5 w-5\" />\n                          </ListItemIcon>\n                          <Typography variant=\"body1\">Connect Roblox</Typography>\n                        </MenuItem>\n                      )}\n                      <MenuItem \n                        component={Link}\n                        href=\"/settings\"\n                        onClick={handleMenuClose}\n                      >\n                        <ListItemIcon>\n                          <SettingsIcon fontSize=\"small\" />\n                        </ListItemIcon>\n                        <Typography variant=\"body1\">Settings</Typography>\n                      </MenuItem>\n                      <MenuItem onClick={handleLogout}>\n                        <ListItemIcon>\n                          <LogoutIcon fontSize=\"small\" />\n                        </ListItemIcon>\n                        <Typography variant=\"body1\">Logout</Typography>\n                      </MenuItem>\n                    </Menu>\n                  </>\n                ) : (\n                  <Button\n                    variant=\"contained\"\n                    onClick={() => setLoginModalOpen(true)}\n                    sx={{\n                      backgroundColor: '#5865F2',\n                      '&:hover': {\n                        backgroundColor: '#4752C4',\n                      }\n                    }}\n                  >\n                    <Typography variant=\"button\">Login</Typography>\n                  </Button>\n                )}\n              </Box>\n            </>\n          )}\n          {mounted && isMobile && (\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n              <Tooltip title=\"Join our Discord\">\n                <IconButton\n                  onClick={() => setIsDiscordModalOpen(true)}\n                  sx={{\n                    color: '#5865F2',\n                    '&:hover': {\n                      color: '#4752C4',\n                      backgroundColor: 'rgba(88, 101, 242, 0.1)'\n                    }\n                  }}\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"currentColor\"\n                  >\n                    <path d=\"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994.021-.041.001-.09-.041-.106a13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z\"/>\n                  </svg>\n                </IconButton>\n              </Tooltip>\n              <IconButton\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                edge=\"end\"\n                onClick={handleDrawerToggle}\n              >\n                <MenuIcon />\n              </IconButton>\n            </Box>\n          )}\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"temporary\"\n        anchor=\"right\"\n        open={mobileOpen}\n        onClose={handleDrawerToggle}\n        ModalProps={{\n          keepMounted: true,\n        }}\n        sx={{\n          '& .MuiDrawer-paper': { \n            boxSizing: 'border-box', \n            width: 240,\n            backgroundColor: '#212A31',\n            color: '#D3D9D4'\n          },\n        }}\n      >\n        {drawer}\n      </Drawer>\n      <LoginModalWrapper \n        open={loginModalOpen} \n        onClose={() => setLoginModalOpen(false)} \n      />\n\n      <EscapeLoginModal />\n\n      {/* Discord Modal */}\n      {isDiscordModalOpen && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n          <div \n            className=\"absolute inset-0\" \n            onClick={() => setIsDiscordModalOpen(false)}\n          />\n          <iframe \n            src=\"https://discord.com/widget?id=1286064050135896064&theme=dark\" \n            width=\"350\" \n            height=\"500\" \n            sandbox=\"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts\"\n            className=\"relative rounded-lg shadow-2xl\"\n          />\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3555, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/OfflineDetector.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from 'react';\nimport { Alert } from '@mui/material';\nimport WifiOffRoundedIcon from '@mui/icons-material/WifiOffRounded';\n\nexport default function OfflineDetector() {\n  const [isOffline, setIsOffline] = useState(false);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    const handleOnline = () => setIsOffline(false);\n    const handleOffline = () => setIsOffline(true);\n\n    // Set initial state\n    setIsOffline(!navigator.onLine);\n\n    // Add event listeners\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, []);\n\n  // Don't render anything until after hydration\n  if (!mounted) {\n    return null;\n  }\n\n  return (\n    <Alert\n      severity=\"warning\"\n      icon={<WifiOffRoundedIcon />}\n      sx={{\n        width: '100%',\n        bgcolor: '#B45309',\n        color: '#FFFFFF',\n        '& .MuiAlert-icon': {\n          color: '#FFFFFF',\n          marginRight: 1,\n          marginLeft: 0,\n        },\n        position: 'fixed',\n        top: '64px',\n        left: 0,\n        right: 0,\n        zIndex: 9999,\n        display: isOffline ? 'flex' : 'none',\n        borderRadius: 0,\n        justifyContent: 'center',\n        '& .MuiAlert-message': {\n          textAlign: 'center',\n          width: 'auto',\n        }\n      }}\n    >\n      You are currently offline. Check your internet connection.\n    </Alert>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;qCAAE;YACR,WAAW;YACX,MAAM;0DAAe,IAAM,aAAa;;YACxC,MAAM;2DAAgB,IAAM,aAAa;;YAEzC,oBAAoB;YACpB,aAAa,CAAC,UAAU,MAAM;YAE9B,sBAAsB;YACtB,OAAO,gBAAgB,CAAC,UAAU;YAClC,OAAO,gBAAgB,CAAC,WAAW;YAEnC,UAAU;YACV;6CAAO;oBACL,OAAO,mBAAmB,CAAC,UAAU;oBACrC,OAAO,mBAAmB,CAAC,WAAW;gBACxC;;QACF;oCAAG,EAAE;IAEL,8CAA8C;IAC9C,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,qBACE,4TAAC,kZAAA,CAAA,QAAK;QACJ,UAAS;QACT,oBAAM,4TAAC,yXAAA,CAAA,UAAkB;;;;;QACzB,IAAI;YACF,OAAO;YACP,SAAS;YACT,OAAO;YACP,oBAAoB;gBAClB,OAAO;gBACP,aAAa;gBACb,YAAY;YACd;YACA,UAAU;YACV,KAAK;YACL,MAAM;YACN,OAAO;YACP,QAAQ;YACR,SAAS,YAAY,SAAS;YAC9B,cAAc;YACd,gBAAgB;YAChB,uBAAuB;gBACrB,WAAW;gBACX,OAAO;YACT;QACF;kBACD;;;;;;AAIL;GA1DwB;KAAA","debugId":null}},
    {"offset": {"line": 3648, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/utils/timestamp.ts"],"sourcesContent":["/**\n * Utility functions for formatting Unix timestamps\n */\n\ntype DateFormat = 'full' | 'long' | 'medium' | 'short' | 'time' | 'relative';\n\ninterface FormatOptions {\n  format?: DateFormat;\n  includeTime?: boolean;\n  relative?: boolean;\n}\n\n/**\n * Formats a Unix timestamp into a human-readable date string\n * @param timestamp Unix timestamp in seconds or milliseconds\n * @param options Formatting options\n * @returns Formatted date string\n */\nexport const formatTimestamp = (timestamp: string | number, options: FormatOptions = {}): string => {\n  const { format = 'long', includeTime = false, relative = false } = options;\n  \n  // Convert timestamp to number and determine if it's in seconds or milliseconds\n  const timestampNum = typeof timestamp === 'string' ? parseInt(timestamp) : timestamp;\n  const isMilliseconds = timestampNum > 1000000000000; // If timestamp is after year 2001, assume milliseconds\n  \n  // Create date object, multiplying by 1000 only if the timestamp is in seconds\n  const date = new Date(isMilliseconds ? timestampNum : timestampNum * 1000);\n  \n  if (relative) {\n    return formatRelativeTime(date);\n  }\n\n  const dateOptions: Intl.DateTimeFormatOptions = {\n    year: 'numeric',\n    month: format === 'short' ? 'numeric' : 'long',\n    day: 'numeric',\n  };\n\n  if (includeTime) {\n    dateOptions.hour = '2-digit';\n    dateOptions.minute = '2-digit';\n  }\n\n  return date.toLocaleDateString('en-US', dateOptions);\n};\n\n/**\n * Formats a date into a relative time string (e.g., \"2 hours ago\", \"in 3 days\")\n * @param date Date object\n * @returns Relative time string\n */\nconst formatRelativeTime = (date: Date): string => {\n  const now = new Date();\n  const diffInSeconds = Math.floor((date.getTime() - now.getTime()) / 1000);\n  const isFuture = diffInSeconds > 0;\n  const absDiffInSeconds = Math.abs(diffInSeconds);\n  \n  const intervals = {\n    year: 31536000,\n    month: 2592000,\n    week: 604800,\n    day: 86400,\n    hour: 3600,\n    minute: 60,\n    second: 1\n  };\n\n  for (const [unit, seconds] of Object.entries(intervals)) {\n    const interval = Math.floor(absDiffInSeconds / seconds);\n    if (interval >= 1) {\n      // For future dates, round up to the next unit if we're close\n      if (isFuture && unit !== 'second') {\n        const remainder = absDiffInSeconds % seconds;\n        if (remainder > seconds * 0.8) { // If we're more than 80% to the next unit\n          const nextInterval = Math.ceil(absDiffInSeconds / seconds);\n          return `in ${nextInterval} ${unit}${nextInterval === 1 ? '' : 's'}`;\n        }\n      }\n      return isFuture ? `in ${interval} ${unit}${interval === 1 ? '' : 's'}` : `${interval} ${unit}${interval === 1 ? '' : 's'} ago`;\n    }\n  }\n\n  return isFuture ? 'in a moment' : 'just now';\n};\n\n/**\n * Formats a Unix timestamp for display in a user profile\n * @param timestamp Unix timestamp in seconds\n * @returns Formatted date string (e.g., \"January 1, 2024\")\n */\nexport const formatProfileDate = (timestamp: string | number): string => {\n  return formatTimestamp(timestamp, { format: 'long' });\n};\n\n/**\n * Formats a Unix timestamp for display in a chat or message\n * @param timestamp Unix timestamp in seconds\n * @returns Formatted date string with time (e.g., \"January 1, 2024, 3:45 PM\")\n */\nexport const formatMessageDate = (timestamp: string | number): string => {\n  return formatTimestamp(timestamp, { format: 'long', includeTime: true });\n};\n\n/**\n * Formats a Unix timestamp into a relative time string\n * @param timestamp Unix timestamp in seconds\n * @returns Relative time string (e.g., \"2 hours ago\")\n */\nexport const formatRelativeDate = (timestamp: string | number): string => \n  formatTimestamp(timestamp, { relative: true });\n\n/**\n * Formats a Unix timestamp with full date and time information\n * @param timestamp Unix timestamp in seconds or milliseconds\n * @returns Formatted date string with full details (e.g., \"Monday, January 1, 2024, 3:45 PM EST\")\n */\nexport const formatFullDate = (timestamp: string | number): string => {\n  const timestampNum = typeof timestamp === 'string' ? parseInt(timestamp) : timestamp;\n  const isMilliseconds = timestampNum > 1000000000000;\n  const date = new Date(isMilliseconds ? timestampNum : timestampNum * 1000);\n  \n  const options: Intl.DateTimeFormatOptions = {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    timeZoneName: 'short'\n  };\n  \n  return date.toLocaleDateString('en-US', options);\n};\n\n/**\n * Formats a Unix timestamp in a short date format (e.g., \"8 Jan 2025\")\n * @param timestamp Unix timestamp in seconds\n * @returns Formatted date string in short format\n */\nexport const formatShortDate = (timestamp: string | number): string => {\n  const timestampNum = typeof timestamp === 'string' ? parseInt(timestamp) : timestamp;\n  const isMilliseconds = timestampNum > 1000000000000;\n  const date = new Date(isMilliseconds ? timestampNum : timestampNum * 1000);\n  \n  // Get day, month, and year\n  const day = date.getDate();\n  const month = date.toLocaleString('en-US', { month: 'short' });\n  const year = date.getFullYear();\n  \n  // Format as \"8 Jan 2025\"\n  return `${day} ${month} ${year}`;\n}; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3764, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/utils/version.ts"],"sourcesContent":["import { formatFullDate } from './timestamp';\n\nexport async function getWebsiteVersion() {\n  try {\n    const response = await fetch(\n      \"https://api.github.com/repos/JBChangelogs/JailbreakChangelogs/commits/main\",\n      { next: { revalidate: 3600 } } // Cache for 1 hour\n    );\n    const data = await response.json();\n    return {\n      version: data.sha.substring(0, 7),\n      date: formatFullDate(new Date(data.commit.committer.date).getTime()),\n    };\n  } catch (error) {\n    console.error(\"Failed to fetch version data:\", error);\n    return {\n      version: \"unknown\",\n      date: \"unknown\",\n    };\n  }\n}\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,MACrB,8EACA;YAAE,MAAM;gBAAE,YAAY;YAAK;QAAE,EAAE,mBAAmB;;QAEpD,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO;YACL,SAAS,KAAK,GAAG,CAAC,SAAS,CAAC,GAAG;YAC/B,MAAM,CAAA,GAAA,4HAAA,CAAA,iBAAc,AAAD,EAAE,IAAI,KAAK,KAAK,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO;QACnE;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO;YACL,SAAS;YACT,MAAM;QACR;IACF;AACF","debugId":null}},
    {"offset": {"line": 3799, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/Layout/VersionInfo.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { getWebsiteVersion } from \"@/utils/version\";\n\nexport default function VersionInfo() {\n  const [versionInfo, setVersionInfo] = useState<{\n    version: string;\n    date: string;\n  }>({\n    version: \"loading...\",\n    date: \"loading...\",\n  });\n\n  useEffect(() => {\n    const fetchVersion = async () => {\n      const info = await getWebsiteVersion();\n      setVersionInfo(info);\n    };\n    fetchVersion();\n  }, []);\n\n  return (\n    <>\n      <p className=\"text-muted\">Version: {versionInfo.version}</p>\n      <p className=\"text-muted\">Last Updated: {versionInfo.date}</p>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAG1C;QACD,SAAS;QACT,MAAM;IACR;IAEA,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;iCAAE;YACR,MAAM;sDAAe;oBACnB,MAAM,OAAO,MAAM,CAAA,GAAA,0HAAA,CAAA,oBAAiB,AAAD;oBACnC,eAAe;gBACjB;;YACA;QACF;gCAAG,EAAE;IAEL,qBACE;;0BACE,4TAAC;gBAAE,WAAU;;oBAAa;oBAAU,YAAY,OAAO;;;;;;;0BACvD,4TAAC;gBAAE,WAAU;;oBAAa;oBAAe,YAAY,IAAI;;;;;;;;;AAG/D;GAvBwB;KAAA","debugId":null}},
    {"offset": {"line": 3867, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/Auth/AuthCheck.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { usePathname } from 'next/navigation';\nimport { validateAuth } from '@/utils/auth';\nimport { hasValidToken } from '@/utils/cookies';\n\n/**\n * This component checks authentication status on route changes\n * It doesn't render anything, but ensures auth state is consistent\n */\nexport default function AuthCheck() {\n  const pathname = usePathname();\n\n  useEffect(() => {\n    // Only validate auth if we have a token\n    if (hasValidToken()) {\n      validateAuth().catch(error => {\n        console.error('Auth validation error:', error);\n      });\n    }\n  }, [pathname]);\n\n  // This component doesn't render anything\n  return null;\n} "],"names":[],"mappings":";;;AAEA;AACA;AACA;AACA;;AALA;;;;;AAWe,SAAS;;IACtB,MAAM,WAAW,CAAA,GAAA,oQAAA,CAAA,cAAW,AAAD;IAE3B,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;+BAAE;YACR,wCAAwC;YACxC,IAAI,CAAA,GAAA,0HAAA,CAAA,gBAAa,AAAD,KAAK;gBACnB,CAAA,GAAA,uHAAA,CAAA,eAAY,AAAD,IAAI,KAAK;2CAAC,CAAA;wBACnB,QAAQ,KAAK,CAAC,0BAA0B;oBAC1C;;YACF;QACF;8BAAG;QAAC;KAAS;IAEb,yCAAyC;IACzC,OAAO;AACT;GAdwB;;QACL,oQAAA,CAAA,cAAW;;;KADN","debugId":null}},
    {"offset": {"line": 3917, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/Survey/SurveyModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport { getToken } from '@/utils/auth';\nimport toast from 'react-hot-toast';\nimport { PROD_API_URL } from '@/services/api';\n\ninterface Survey {\n  id: string;\n  question: string;\n  answer_type: string;\n  chance: number;\n  survey_type: string;\n  target_audience: string;\n  is_active: number;\n  max_responses: number;\n  responses: number;\n  expires: number;\n  created_at: number;\n}\n\ninterface SurveyModalProps {\n  open: boolean;\n  onClose: () => void;\n  survey: Survey;\n}\n\nconst SurveyModal: React.FC<SurveyModalProps> = ({ open, onClose, survey }) => {\n  const [answer, setAnswer] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!answer.trim()) {\n      toast.error('Please provide an answer');\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      const token = getToken();\n      const response = await fetch(`${PROD_API_URL}/surveys/submit`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          id: survey.id,\n          answer: answer,\n          owner: token,\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to submit survey');\n      }\n\n      toast.success('Thank you for your feedback!');\n      onClose();\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : 'Failed to submit survey. Please try again.';\n      toast.error(errorMessage);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (!open) return null;\n\n  return (\n    <div \n      className=\"modal-overlay\"\n      onClick={onClose}\n      style={{\n        display: 'flex',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        zIndex: 1000,\n        justifyContent: 'center',\n        alignItems: 'center'\n      }}\n    >\n      <div \n        className=\"modal-container\"\n        onClick={(e: React.MouseEvent) => e.stopPropagation()}\n        style={{\n          backgroundColor: '#212A31',\n          border: '1px solid #2E3944',\n          borderRadius: '8px',\n          minWidth: '400px',\n          maxWidth: '600px',\n          width: '100%',\n          boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\n        }}\n      >\n        <div \n          className=\"modal-header\"\n          style={{\n            color: '#D3D9D4',\n            borderBottom: '1px solid #2E3944',\n            padding: '16px 24px',\n            fontSize: '1.25rem',\n            fontWeight: 600\n          }}\n        >\n          Survey\n        </div>\n        <div \n          className=\"modal-body\"\n          style={{\n            padding: '24px',\n            color: '#D3D9D4'\n          }}\n        >\n          <p className=\"mb-4\">{survey.question}</p>\n          <form onSubmit={handleSubmit}>\n            <textarea\n              value={answer}\n              onChange={(e) => setAnswer(e.target.value)}\n              className=\"w-full p-2 rounded bg-[#2E3944] border border-[#37424D] text-white\"\n              rows={4}\n              placeholder=\"Type your answer here...\"\n            />\n            <div className=\"mt-4 flex justify-end gap-2\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 rounded bg-[#37424D] text-white hover:bg-[#2E3944] transition-colors\"\n              >\n                Skip\n              </button>\n              <button\n                type=\"submit\"\n                disabled={submitting}\n                className=\"px-4 py-2 rounded bg-[#1A5F7A] text-white hover:bg-[#124e66] transition-colors disabled:opacity-50\"\n              >\n                {submitting ? 'Submitting...' : 'Submit'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SurveyModal; "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AA2BA,MAAM,cAA0C,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE;;IACxE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,OAAO,IAAI,IAAI;YAClB,ySAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,cAAc;QACd,IAAI;YACF,MAAM,QAAQ,CAAA,GAAA,uHAAA,CAAA,WAAQ,AAAD;YACrB,MAAM,WAAW,MAAM,MAAM,GAAG,yHAAA,CAAA,eAAY,CAAC,eAAe,CAAC,EAAE;gBAC7D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,iBAAiB,CAAC,OAAO,EAAE,OAAO;gBACpC;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,IAAI,OAAO,EAAE;oBACb,QAAQ;oBACR,OAAO;gBACT;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,ySAAA,CAAA,UAAK,CAAC,OAAO,CAAC;YACd;QACF,EAAE,OAAO,OAAO;YACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAC9D,ySAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,cAAc;QAChB;IACF;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,4TAAC;QACC,WAAU;QACV,SAAS;QACT,OAAO;YACL,SAAS;YACT,UAAU;YACV,KAAK;YACL,MAAM;YACN,OAAO;YACP,QAAQ;YACR,iBAAiB;YACjB,QAAQ;YACR,gBAAgB;YAChB,YAAY;QACd;kBAEA,cAAA,4TAAC;YACC,WAAU;YACV,SAAS,CAAC,IAAwB,EAAE,eAAe;YACnD,OAAO;gBACL,iBAAiB;gBACjB,QAAQ;gBACR,cAAc;gBACd,UAAU;gBACV,UAAU;gBACV,OAAO;gBACP,WAAW;YACb;;8BAEA,4TAAC;oBACC,WAAU;oBACV,OAAO;wBACL,OAAO;wBACP,cAAc;wBACd,SAAS;wBACT,UAAU;wBACV,YAAY;oBACd;8BACD;;;;;;8BAGD,4TAAC;oBACC,WAAU;oBACV,OAAO;wBACL,SAAS;wBACT,OAAO;oBACT;;sCAEA,4TAAC;4BAAE,WAAU;sCAAQ,OAAO,QAAQ;;;;;;sCACpC,4TAAC;4BAAK,UAAU;;8CACd,4TAAC;oCACC,OAAO;oCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;oCACzC,WAAU;oCACV,MAAM;oCACN,aAAY;;;;;;8CAEd,4TAAC;oCAAI,WAAU;;sDACb,4TAAC;4CACC,MAAK;4CACL,SAAS;4CACT,WAAU;sDACX;;;;;;sDAGD,4TAAC;4CACC,MAAK;4CACL,UAAU;4CACV,WAAU;sDAET,aAAa,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhD;GA1HM;KAAA;uCA4HS","debugId":null}},
    {"offset": {"line": 4109, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/Survey/SurveyBanner.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { XMarkIcon } from '@heroicons/react/24/outline';\n\ninterface SurveyBannerProps {\n  onAccept: () => void;\n  onDismiss: () => void;\n  question: string;\n}\n\nconst SurveyBanner: React.FC<SurveyBannerProps> = ({ onAccept, onDismiss }) => {\n  return (\n    <div \n      className=\"fixed bottom-0 left-0 right-0 bg-[#1A5F7A] border-t border-[#124e66] p-4 z-50\"\n      style={{\n        boxShadow: '0 -4px 6px rgba(0, 0, 0, 0.2)'\n      }}\n    >\n      <div className=\"container mx-auto flex items-center justify-between gap-4\">\n        <div className=\"flex-1\">\n          <p className=\"text-white\">\n            <span className=\"font-semibold\">We&apos;d love to get your feedback!</span>\n          </p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <button\n            onClick={onAccept}\n            className=\"px-4 py-2 rounded bg-white text-[#124e66] hover:bg-gray-100 transition-colors font-medium\"\n          >\n            Take Survey\n          </button>\n          <button\n            onClick={onDismiss}\n            className=\"p-2 text-white/80 hover:text-white transition-colors\"\n            aria-label=\"Dismiss\"\n          >\n            <XMarkIcon className=\"h-5 w-5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SurveyBanner; "],"names":[],"mappings":";;;;AAGA;AAHA;;;AAWA,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE;IACxE,qBACE,4TAAC;QACC,WAAU;QACV,OAAO;YACL,WAAW;QACb;kBAEA,cAAA,4TAAC;YAAI,WAAU;;8BACb,4TAAC;oBAAI,WAAU;8BACb,cAAA,4TAAC;wBAAE,WAAU;kCACX,cAAA,4TAAC;4BAAK,WAAU;sCAAgB;;;;;;;;;;;;;;;;8BAGpC,4TAAC;oBAAI,WAAU;;sCACb,4TAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,4TAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,4TAAC,2SAAA,CAAA,YAAS;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjC;KAhCM;uCAkCS","debugId":null}},
    {"offset": {"line": 4207, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/Survey/SurveyProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { getToken } from '@/utils/auth';\nimport SurveyModal from './SurveyModal';\nimport SurveyBanner from './SurveyBanner';\nimport { PROD_API_URL } from '@/services/api';\n\ninterface Survey {\n  id: string;\n  question: string;\n  answer_type: string;\n  chance: number;\n  survey_type: string;\n  target_audience: string;\n  is_active: number;\n  max_responses: number;\n  responses: number;\n  expires: number;\n  created_at: number;\n}\n\ninterface SurveyContextType {\n  showSurvey: () => void;\n}\n\nconst SurveyContext = createContext<SurveyContextType | undefined>(undefined);\n\nexport const useSurvey = () => {\n  const context = useContext(SurveyContext);\n  if (!context) {\n    throw new Error('useSurvey must be used within a SurveyProvider');\n  }\n  return context;\n};\n\nexport const SurveyProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [survey, setSurvey] = useState<Survey | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isBannerVisible, setIsBannerVisible] = useState(false);\n  const [hasCheckedSurvey, setHasCheckedSurvey] = useState(false);\n\n  const checkForSurvey = async () => {\n    try {\n      const token = getToken();\n      if (!token) return;\n\n      const response = await fetch(`${PROD_API_URL}/surveys/request?user=${token}`);\n      if (!response.ok) return;\n\n      const data = await response.json();\n      if (data && data.id) {\n        setSurvey(data);\n        setIsBannerVisible(true);\n      }\n    } catch (error) {\n      console.error('Error checking for survey:', error);\n    } finally {\n      setHasCheckedSurvey(true);\n    }\n  };\n\n  useEffect(() => {\n    if (!hasCheckedSurvey) {\n      checkForSurvey();\n    }\n  }, [hasCheckedSurvey]);\n\n  const showSurvey = () => {\n    if (survey) {\n      setIsModalOpen(true);\n      setIsBannerVisible(false);\n    }\n  };\n\n  const handleClose = () => {\n    setIsModalOpen(false);\n  };\n\n  const handleDismiss = () => {\n    setIsBannerVisible(false);\n  };\n\n  return (\n    <SurveyContext.Provider value={{ showSurvey }}>\n      {children}\n      {survey && isBannerVisible && (\n        <SurveyBanner\n          question={survey.question}\n          onAccept={showSurvey}\n          onDismiss={handleDismiss}\n        />\n      )}\n      {survey && (\n        <SurveyModal\n          open={isModalOpen}\n          onClose={handleClose}\n          survey={survey}\n        />\n      )}\n    </SurveyContext.Provider>\n  );\n};\n\nexport default SurveyProvider; "],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AA0BA,MAAM,8BAAgB,CAAA,GAAA,4RAAA,CAAA,gBAAa,AAAD,EAAiC;AAE5D,MAAM,YAAY;;IACvB,MAAM,UAAU,CAAA,GAAA,4RAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANa;AAQN,MAAM,iBAA0D,CAAC,EAAE,QAAQ,EAAE;;IAClF,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAiB;IACpD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAEzD,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,QAAQ,CAAA,GAAA,uHAAA,CAAA,WAAQ,AAAD;YACrB,IAAI,CAAC,OAAO;YAEZ,MAAM,WAAW,MAAM,MAAM,GAAG,yHAAA,CAAA,eAAY,CAAC,sBAAsB,EAAE,OAAO;YAC5E,IAAI,CAAC,SAAS,EAAE,EAAE;YAElB,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,QAAQ,KAAK,EAAE,EAAE;gBACnB,UAAU;gBACV,mBAAmB;YACrB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;QAC9C,SAAU;YACR,oBAAoB;QACtB;IACF;IAEA,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;oCAAE;YACR,IAAI,CAAC,kBAAkB;gBACrB;YACF;QACF;mCAAG;QAAC;KAAiB;IAErB,MAAM,aAAa;QACjB,IAAI,QAAQ;YACV,eAAe;YACf,mBAAmB;QACrB;IACF;IAEA,MAAM,cAAc;QAClB,eAAe;IACjB;IAEA,MAAM,gBAAgB;QACpB,mBAAmB;IACrB;IAEA,qBACE,4TAAC,cAAc,QAAQ;QAAC,OAAO;YAAE;QAAW;;YACzC;YACA,UAAU,iCACT,4TAAC,+IAAA,CAAA,UAAY;gBACX,UAAU,OAAO,QAAQ;gBACzB,UAAU;gBACV,WAAW;;;;;;YAGd,wBACC,4TAAC,8IAAA,CAAA,UAAW;gBACV,MAAM;gBACN,SAAS;gBACT,QAAQ;;;;;;;;;;;;AAKlB;IAlEa;KAAA;uCAoEE","debugId":null}},
    {"offset": {"line": 4325, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/ReportIssue/ReportIssueModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Dialog } from '@headlessui/react';\nimport { XMarkIcon } from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\nimport { PROD_API_URL } from '@/services/api';\n\nconst MIN_TITLE_LENGTH = 10;\nconst MIN_DESCRIPTION_LENGTH = 25;\n\ninterface ReportIssueModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport default function ReportIssueModal({ isOpen, onClose }: ReportIssueModalProps) {\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (title.length < MIN_TITLE_LENGTH) {\n      toast.error(`Title must be at least ${MIN_TITLE_LENGTH} characters`);\n      return;\n    }\n\n    if (description.length < MIN_DESCRIPTION_LENGTH) {\n      toast.error(`Description must be at least ${MIN_DESCRIPTION_LENGTH} characters`);\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const response = await fetch(`${PROD_API_URL}/issues/add`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          title,\n          description,\n          user: localStorage.getItem('userid')\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to submit issue');\n      }\n\n      toast.success('Issue reported successfully');\n      onClose();\n      setTitle('');\n      setDescription('');\n    } catch (error) {\n      console.error('Error submitting issue:', error);\n      toast.error('Failed to submit issue. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-50\">\n      <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\n      \n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n        <Dialog.Panel className=\"mx-auto w-full max-w-sm rounded-lg bg-[#212A31] p-6\">\n          <div className=\"flex items-center justify-between\">\n            <Dialog.Title className=\"text-xl font-semibold text-white\">\n              Report an Issue\n            </Dialog.Title>\n            <button\n              onClick={onClose}\n              className=\"rounded-full p-1 text-muted hover:bg-[#2E3944] hover:text-white\"\n            >\n              <XMarkIcon className=\"h-6 w-6\" />\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"mt-4 space-y-4\">\n            <div>\n              <label htmlFor=\"title\" className=\"block text-sm font-medium text-muted\">\n                Title\n              </label>\n              <input\n                type=\"text\"\n                id=\"title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                className=\"mt-1 block w-full rounded-md border border-[#37424D] bg-[#2E3944] px-3 py-2 text-white placeholder-muted focus:border-[#5865F2] focus:outline-none focus:ring-1 focus:ring-[#5865F2]\"\n                placeholder=\"Brief description of the issue\"\n                required\n              />\n              <p className=\"mt-1 text-xs text-muted\">\n                Minimum {MIN_TITLE_LENGTH} characters\n              </p>\n            </div>\n\n            <div>\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-muted\">\n                Description\n              </label>\n              <textarea\n                id=\"description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                rows={4}\n                className=\"mt-1 block w-full rounded-md border border-[#37424D] bg-[#2E3944] px-3 py-2 text-white placeholder-muted focus:border-[#5865F2] focus:outline-none focus:ring-1 focus:ring-[#5865F2]\"\n                placeholder=\"Detailed description of the issue\"\n                required\n              />\n              <p className=\"mt-1 text-xs text-muted\">\n                Minimum {MIN_DESCRIPTION_LENGTH} characters\n              </p>\n            </div>\n\n            <div className=\"flex justify-end gap-3\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"rounded-md border border-[#37424D] px-4 py-2 text-sm font-medium text-muted hover:bg-[#2E3944] hover:text-white\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className=\"rounded-md bg-[#5865F2] px-4 py-2 text-sm font-medium text-white hover:bg-[#4752C4] focus:outline-none focus:ring-2 focus:ring-[#5865F2] focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              >\n                {isSubmitting ? 'Submitting...' : 'Submit Issue'}\n              </button>\n            </div>\n          </form>\n        </Dialog.Panel>\n      </div>\n    </Dialog>\n  );\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4590, "column": 0}, "map": {"version":3,"sources":["file:///home/stradel/projects/JailbreakChangelogs/src/components/ReportIssue/ReportIssueButton.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { BugAntIcon } from '@heroicons/react/24/outline';\nimport { useSearchParams } from 'next/navigation';\nimport ReportIssueModal from './ReportIssueModal';\nimport { getToken } from \"@/utils/auth\";\nimport toast from 'react-hot-toast';\n\nexport default function ReportIssueButton() {\n  const [isOpen, setIsOpen] = useState(false);\n  const searchParams = useSearchParams();\n\n  const handleOpenModal = () => {\n    const token = getToken();\n    if (!token) {\n      toast.error('You must be logged in to report an issue');\n      return;\n    }\n    setIsOpen(true);\n  };\n\n  useEffect(() => {\n    if (searchParams.get('report-issue') === 'true') {\n      handleOpenModal();\n    }\n  }, [searchParams]);\n\n  return (\n    <>\n      <button\n        onClick={handleOpenModal}\n        className=\"flex w-full items-center gap-2 text-muted hover:text-[#FFFFFF]\"\n      >\n        <BugAntIcon className=\"h-5 w-5\" />\n        Report an Issue\n      </button>\n      <ReportIssueModal \n        isOpen={isOpen} \n        onClose={() => setIsOpen(false)} \n      />\n    </>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,eAAe,CAAA,GAAA,oQAAA,CAAA,kBAAe,AAAD;IAEnC,MAAM,kBAAkB;QACtB,MAAM,QAAQ,CAAA,GAAA,uHAAA,CAAA,WAAQ,AAAD;QACrB,IAAI,CAAC,OAAO;YACV,ySAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,UAAU;IACZ;IAEA,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;uCAAE;YACR,IAAI,aAAa,GAAG,CAAC,oBAAoB,QAAQ;gBAC/C;YACF;QACF;sCAAG;QAAC;KAAa;IAEjB,qBACE;;0BACE,4TAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,4TAAC,6SAAA,CAAA,aAAU;wBAAC,WAAU;;;;;;oBAAY;;;;;;;0BAGpC,4TAAC,wJAAA,CAAA,UAAgB;gBACf,QAAQ;gBACR,SAAS,IAAM,UAAU;;;;;;;;AAIjC;GAlCwB;;QAED,oQAAA,CAAA,kBAAe;;;KAFd","debugId":null}}]
}